<!-- * * * * * * * * * * * * * * -->
<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Symfony</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.css">
    <script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/autoloader/prism-autoloader.min.js"
            data-prismjs-autoloader-path="https://cdn.jsdelivr.net/npm/prismjs/components/"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.js"></script>

<style>
    html {
        scroll-behavior: smooth;
    }

    .back-to-top {
        position: fixed;
        right: 20px;
        bottom: 20px;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: #333;
        color: #fff;
        display: flex;
        align-items: center;
        justify-content: center;
        text-decoration: none;
        font-size: 22px;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
        opacity: 0.75;
        transition: opacity 0.2s ease, transform 0.2s ease;
        z-index: 999;
    }

    .back-to-top:hover {
        opacity: 1;
        transform: translateY(-2px);
    }

    .nav-icon {
        width: 28px;
        height: 28px;
        object-fit: contain;
        vertical-align: middle;
        margin-left: 0.3rem;
    }

    table {
        border-collapse: collapse;
        width: 100%;
        font-family: "KaiTi", "楷体", "STKaiti", "Kaiti SC", serif;
        font-size: 14px;
    }

    th {
        background-color: #f5f5f5;
        text-align: left;
        font-weight: 600;
    }

    th, td {
        border: 1px solid #ddd;
        padding: 8px 12px;
    }

    tr:nth-child(even) {
        background-color: #fafafa;
    }

    tr:hover {
        background-color: #f0f8ff;
    }

    .comment {
        color: grey;
    }

    .token.keyword {
        font-weight: 500;
    }
    /*
    .token.comment {
        color: #888;
    }
    */

    .red-underline {
        text-decoration-line: underline;
        text-decoration-color: red;
        text-decoration-thickness: 2px;
        text-underline-offset: 2px;
    }

    body {
        font-family: "KaiTi", "楷体", "STKaiti", "Kaiti SC", serif;
        font-variant-ligatures: none;
    }

    ul > li {
        list-style-type: disc;
    }

    code {
        color: #24292e;
        background-color: #f6f8fa;
        border: 1px solid #d0d7de;
        border-radius: .375rem;
        padding: .15rem .35rem;
        font-family: "FiraCode Nerd Font", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
        font-size: 0.875rem;
        line-height: 1.4;
    }


    pre {
        margin: 1rem 0;
        padding: .8rem 1rem;
        background-color: #f6f8fa;
        border: 1px solid #d0d7de;
        border-radius: .5rem;
        overflow: auto;
        tab-size: 4;
    }


    pre code {
        display: block;
        padding: 0;
        background: transparent;
        border: 0;
        color: #24292e;
        font-family: "FiraCode Nerd Font", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
        font-size: 0.875rem;
        line-height: 1.5;
        white-space: pre;
    }
</style>
</head>
<!-- * * * * * * * * * * * * * * -->
<body>
<a href="#" class="back-to-top" aria-label="Back to top">
    &#8593;
</a>
<!-- * * * * * * * * * * * * * * -->


<!-- * * * * * * * * * * * * * * -->
<hr/>
<nav id="toc" style="margin-bottom: 2rem;">
    <h2> <img src="resources/symfony.jpeg" alt="Logo" class="nav-icon"/> Documentation Index</h2>
    <ol style="line-height: 1.8;">
        <li><a href="#symfony-introduction">Introduction</a></li>
        <li><a href="#symfony-installation-setup">Installing &amp; Setting UP the Symfony</a></li>
        <li><a href="#symfony-composer-intro">What Is Composer?</a></li>
        <li><a href="#symfony-architecture">Architecture</a></li>
        <li><a href="#symfony-components">Components</a></li>
        <li><a href="#symfony-service-container">Service Container</a></li>
        <li><a href="#symfony-events-listeners">Events &amp; Event Listeners</a></li>
    </ol>
</nav>
<hr/>
<!-- * * * * * * * * * * * * * * -->


<!-- * * * * * * * * * * * * * * -->
<h3 id="symfony-introduction">Introduction to Symfony</h3>
<ol>
    <li><b>What Is Symfony?</b></li>
    <br/>
    <ul>
        <li><u>Symfony</u> is a powerful, full-stack, enterprise-grade PHP framework used for building modern web applications.</li>
        <br/>
        <li>Symfony is widely used in industry, notably by:
            <ul>
                <li>Drupal</li>
                <li>Magento</li>
                <li>OroCRM</li>
                <li>Laravel (uses Symfony components)</li>
            </ul>
        </li>
        <br/>
        <li>It is ideal for:
            <ul>
                <li>Enterprise apps</li>
                <li>Long-term maintainable systems</li>
                <li>Modular and scalable architectures</li>
                <li>APIs and web services</li>
            </ul>
        </li>
    </ul>
    <br/><br/>

    <li><b>Installing Symfony</b></li>
    <br/>
    <ul>
        <li>First install the <b>Symfony CLI</b> tool:</li>
    </ul>

<pre><code class="language-bash line-numbers">curl -sS https://get.symfony.com/cli/installer | bash
</code></pre>

    <br/>
    <ul>
        <li>Verify installation:</li>
    </ul>

<pre><code class="language-bash line-numbers">symfony -V
</code></pre>

    <br/>
    <ul>
        <li>Create a new Symfony project:</li>
    </ul>

<pre><code class="language-bash line-numbers">symfony new my_project --webapp</code></pre>

    <br/>
    <ul>
        <li>This generates a full MVC skeleton with:</li>
    </ul>

<pre><code class="language-text line-numbers">my_project/
├── assets/
├── bin/
├── config/
├── migrations/
├── public/
├── src/
├── templates/
├── tests/
└── var/
</code></pre>

    <br/><br/>

    <li><b>Symfony Directory Structure (Overview)</b></li>
    <br/>
    <ul>
        <li><code>src/</code> — PHP code (controllers, services, entities).</li>
        <li><code>templates/</code> — Twig template files.</li>
        <li><code>config/</code> — application configuration.</li>
        <li><code>public/</code> — web root (index.php lives here).</li>
        <li><code>var/</code> — cache and logs.</li>
        <li><code>vendor/</code> — installed dependencies.</li>
    </ul>

    <br/><br/>

    <li><b>Your First Symfony Route</b></li>
    <br/>
    <ul>
        <li>Symfony uses attributes (preferred), annotations, or YAML/XML for routing.</li>
        <li>Create a simple controller:</li>
    </ul>

<pre><code class="language-php line-numbers">&lt;?php
// src/Controller/HomeController.php

namespace App\Controller;

use Symfony\Bundle\FrameworkBundle\Controller\AbstractController;
use Symfony\Component\HttpFoundation\Response;
use Symfony\Component\Routing\Annotation\Route;

class HomeController extends AbstractController
{
    #[Route('/', name: 'home')]
    public function index(): Response
    {
        return new Response('Hello from Symfony!');
    }
}
</code></pre>

    <br/>
    <ul>
        <li>Run the server:</li>
    </ul>

<pre><code class="language-bash line-numbers">symfony serve</code></pre>

    <br/>
    <ul>
        <li>Visit: <code>http://127.0.0.1:8000</code></li>
    </ul>
    <br/><br/>

    <li><b>Templates with Twig</b></li>
    <br/>
    <ul>
        <li>Symfony uses the <u>Twig</u> template engine for HTML.</li>
        <li>Create a template:</li>
    </ul>

<pre><code class="language-html line-numbers">&lt;!-- templates/home.html.twig --&gt;
&lt;h1&gt;Hello {{ name }}!&lt;/h1&gt;
</code></pre>

    <br/>
    <ul>
        <li>Render from controller:</li>
    </ul>

<pre><code class="language-php line-numbers">#[Route('/hello/{name}', name: 'hello')]
public function hello(string $name): Response
{
    return $this-&gt;render('home.html.twig', [
        'name' =&gt; $name,
    ]);
}
</code></pre>

    <br/><br/>

    <li><b>Symfony and MVC</b></li>
    <br/>
    <ul>
        <li><code>Model</code>: Entities + Doctrine ORM</li>
        <li><code>View</code>: Twig templates</li>
        <li><code>Controller</code>: Classes inside <code>src/Controller</code></li>
    </ul>

<pre><code class="language-text line-numbers">Request → Controller → Service/Model → Response → Browser
</code></pre>

    <br/><br/>

    <li><b>Database Support with Doctrine ORM</b></li>
    <br/>
    <ul>
        <li>Symfony integrates tightly with Doctrine (ORM).</li>
    </ul>

<pre><code class="language-bash line-numbers">symfony console make:entity
</code></pre>

    <br/>
    <ul>
        <li>Basic entity example:</li>
    </ul>

<pre><code class="language-php line-numbers">&lt;?php
// src/Entity/Product.php

namespace App\Entity;

use Doctrine\ORM\Mapping as ORM;

#[ORM\Entity]
class Product
{
    #[ORM\Id]
    #[ORM\GeneratedValue]
    #[ORM\Column]
    private ?int $id = null;

    #[ORM\Column(length: 100)]
    private string $name;

    #[ORM\Column]
    private float $price;

    // getters and setters...
}
</code></pre>

    <br/>
    <ul>
        <li>Database migration:</li>
    </ul>

<pre><code class="language-bash line-numbers">symfony console make:migration
symfony console doctrine:migrations:migrate
</code></pre>

    <br/><br/>

    <li><b>Dependency Injection Container</b></li>
    <br/>
    <ul>
        <li>Symfony is built around a powerful <u>Service Container</u>.</li>
        <li>Almost everything (mailer, logger, custom services) is registered as a service.</li>
        <li>Services are autowired automatically based on type hints.</li>
    </ul>

<pre><code class="language-php line-numbers">&lt;?php
class SluggerService
{
    public function slugify(string $s): string
    {
        return strtolower(str_replace(' ', '-', $s));
    }
}
</code></pre>

<pre><code class="language-php line-numbers">#[Route('/slug/{text}')]
public function slug(SluggerService $slugger, string $text): Response
{
    return new Response($slugger-&gt;slugify($text));
}
</code></pre>

    <br/><br/>

    <li><b>Symfony Flex and Bundles</b></li>
    <br/>
    <ul>
        <li>Bundles are reusable modules, similar to Django apps or Laravel packages.</li>
        <li>Symfony Flex automates installation and configuration.</li>
    </ul>

<pre><code class="language-bash line-numbers">composer require annotations
composer require twig
composer require symfony/orm-pack
</code></pre>

    <br/><br/>

    <li><b>Debugging Tools</b></li>
    <br/>
    <ul>
        <li><b>Debug Toolbar</b>: shows log, memory, performance, routing info.</li>
        <li><b>Profiler</b>: detailed debugging UI at <code>/_profiler</code>.</li>
        <li>Useful commands:</li>
    </ul>

<pre><code class="language-bash line-numbers">symfony console debug:router
symfony console debug:config
symfony console debug:container
</code></pre>

    <br/><br/>
</ol>
<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->
<h3 id="symfony-installation-setup">Installing &amp; Setting Up the Symfony Framework</h3>
<ol>

    <li>Overview of Symfony Installation</li>
    <br/>
    <ul>
        <li>Symfony is a powerful PHP framework for building modern, scalable web applications.</li>
        <br/>
        <li>Installation can be done in two main ways:
            <ul>
                <li>via the <b>Symfony CLI</b> (recommended)</li>
                <li>via <b>Composer create-project</b></li>
            </ul>
        </li>
        <br/>
        <li>Symfony requires:
            <ul>
                <li>PHP ≥ 8.1</li>
                <li>Composer</li>
                <li>OpenSSL extension</li>
                <li>pdo_mysql or pdo_pgsql (if using databases)</li>
                <li>web server (local or built-in)</li>
            </ul>
        </li>
        <br/>
        <li>Optional tools:
            <ul>
                <li>Symfony CLI</li>
                <li>Docker</li>
                <li>Xdebug</li>
            </ul>
        </li>
    </ul>
    <br/><br/>


    <li>Installing the Symfony CLI</li>
    <br/>
    <ul>
        <li>The Symfony CLI is the best way to create, serve, and debug Symfony apps.</li>
        <br/>
        <li>Download (Linux):</li>
<pre><code class="language-bash line-numbers">wget https://get.symfony.com/cli/installer -O - | bash</code></pre>
        </li>
        <br/>
        <li>Move it globally:</li>
<pre><code class="language-bash line-numbers">mv ~/.symfony5/bin/symfony /usr/local/bin/symfony</code></pre>
        </li>
        <br/>
        <li>Verify installation:</li>
<pre><code class="language-bash line-numbers">symfony -v</code></pre>
        </li>
        <br/>
        <li>You may install via package manager:
            <ul>
                <li>macOS: Homebrew</li>
                <li>Windows: Scoop</li>
            </ul>
        </li>
    </ul>
    <br/><br/>


    <li>Creating a New Symfony Project</li>
    <br/>
    <ul>
        <li>Create a new web application (recommended):</li>
<pre><code class="language-bash line-numbers">symfony new myapp --webapp</code></pre>
        </li>
        <br/>
        <li>This installs:</li>
        <ul>
            <li>HTTP Kernel</li>
            <li>Routing</li>
            <li><code>.env</code> configuration</li>
            <li>Twig templating</li>
            <li>Doctrine ORM</li>
            <li>Debugging tools (Profiler)</li>
        </ul>
        <br/>
        <li>Create a minimal project (without web tools):</li>
<pre><code class="language-bash line-numbers">symfony new myapp</code></pre>
        </li>
        <br/>
        <li>You can also use Composer directly:</li>
<pre><code class="language-bash line-numbers">composer create-project symfony/skeleton myapp</code></pre>
        </li>
    </ul>
    <br/><br/>


    <li>Understanding the Symfony Directory Structure</li>
    <ul>
<pre><code class="language-bash line-numbers">myapp/
├── config/         # configuration for routing, services, packages
├── public/         # web root (index.php lives here)
├── src/            # controllers, entities, services
├── templates/      # Twig templates
├── migrations/     # database migration files
├── var/            # cache and logs
├── vendor/         # Composer dependencies
└── .env            # environment variables
</code></pre>
        </li>
        <br/>
        <li>Most development happens in:
            <ul>
                <li><code>src/</code></li>
                <li><code>templates/</code></li>
                <li><code>config/</code></li>
            </ul>
        </li>
    </ul>
    <br/><br/>


    <li>Running Symfony's Local Web Server</li>
    <br/>
    <ul>
        <li>Use Symfony CLI's built-in server:</li>
<pre><code class="language-bash line-numbers">symfony serve -d</code></pre>
        </li>
        <br/>
        <li>This launches the server in the background.</li>
        <br/>
        <li>View status:</li>
<pre><code class="language-bash line-numbers">symfony server:status</code></pre>
        </li>
        <br/>
        <li>Stop the server:</li>
<pre><code class="language-bash line-numbers">symfony server:stop</code></pre>
        </li>
        <br/>
        <li>You can also use PHP’s built-in server:</li>
<pre><code class="language-bash line-numbers">php -S localhost:8000 -t public/</code></pre>
        </li>
    </ul>
    <br/><br/>


    <li>Configuring Environment Variables</li>
    <br/>
    <ul>
        <li>Symfony uses an <code>.env</code> file for development configuration.</li>
        <br/>
        <li>You can define:</li>
        <ul>
            <li>database credentials</li>
            <li>debug settings</li>
            <li>mailer configuration</li>
            <li>API keys</li>
        </ul>
        </li>
        <br/>
        <li>Example <code>.env</code> fragment:</li>
<pre><code class="language-php line-numbers">APP_ENV=dev
APP_SECRET=abc123
DATABASE_URL="mysql://user:pass@localhost:3306/mydb"
</code></pre>
        <br/>
        <li>For production, use <code>.env.local</code> and server-level env variables.</li>
    </ul>
    <br/><br/>


    <li>Installing Useful Symfony Bundles</li>
    <br/>
    <ul>
        <li>Doctrine ORM (database):</li>
<pre><code class="language-bash line-numbers">composer require symfony/orm-pack</code></pre>
        </li>
        <br/>
        <li>Maker Bundle (code generator):</li>
<pre><code class="language-bash line-numbers">composer require symfony/maker-bundle --dev</code></pre>
        </li>
        <br/>
        <li>Twig (templates):</li>
<pre><code class="language-bash line-numbers">composer require twig</code></pre>
        </li>
        <br/>
        <li>Security (authentication):</li>
<pre><code class="language-bash line-numbers">composer require symfony/security-bundle</code></pre>
        </li>
        <br/>
        <li>API Platform:</li>
<pre><code class="language-bash line-numbers">composer require api</code></pre>
    </ul>
    <br/><br/>


    <li>Testing Your Symfony Setup</li>
    <br/>
    <ul>
        <li>Visit the local server:</li>
<pre><code class="language-plaintext line-numbers">https://localhost:8000</code></pre>
        </li>
        <br/>
        <li>Symfony debug toolbar should be visible (in dev environment).</li>
        <br/>
        <li>Test that routing works:</li>
<pre><code class="language-bash line-numbers">symfony console debug:router</code></pre>
        </li>
        <br/>
        <li>Check environment status:</li>
<pre><code class="language-bash line-numbers">symfony console about</code></pre>
    </ul>
    <br/><br/>


    <li>Using Symfony's Console Tool</li>
    <br/>
    <ul>
        <li>Common commands:</li>
<pre><code class="language-bash line-numbers">symfony console list
symfony console cache:clear
symfony console make:controller
symfony console make:entity
symfony console debug:container
</code></pre>
        </li>
        <br/>
        <li>These tools save significant development time.</li>
    </ul>
    <br/><br/>


    <li>Configuring a Database Connection</li>
    <br/>
    <ul>
        <li>Edit <code>.env</code>:</li>
<pre><code class="language-plaintext line-numbers">DATABASE_URL="mysql://user:pass@localhost:3306/mydb"</code></pre>
        </li>
        <br/>
        <li>Test DB connectivity:</li>
<pre><code class="language-bash line-numbers">symfony console doctrine:query:sql "SELECT 1"</code></pre>
        </li>
        <br/>
        <li>Generate entity + migration:</li>
<pre><code class="language-bash line-numbers">symfony console make:entity
symfony console make:migration
symfony console doctrine:migrations:migrate
</code></pre>
    </ul>
    <br/><br/>


    <li>Configuring Web Server (Apache / Nginx)</li>
    <br/>
    <ul>
        <li>Symfony uses <code>public/index.php</code> as front controller.</li>
        <br/>
        <li>Apache Virtual Host example:</li>
<pre><code class="language-plaintext line-numbers">&lt;VirtualHost *:80&gt;
    DocumentRoot /var/www/myapp/public
    DirectoryIndex index.php

    &lt;Directory /var/www/myapp/public&gt;
        AllowOverride All
        Require all granted
    &lt;/Directory&gt;
&lt;/VirtualHost&gt;
</code></pre>
        </li>
        <br/>
        <li>Nginx example:</li>
<pre><code class="language-plaintext line-numbers">server {
    root /var/www/myapp/public;
    index index.php;
    location / {
        try_files $uri /index.php$is_args$args;
    }
}
</code></pre>
    </ul>
    <br/><br/>


    <li>Verifying Production-Ready Configuration</li>
    <br/>
    <ul>
        <li>Symfony offers a readiness check:</li>
<pre><code class="language-bash line-numbers">symfony check:requirements</code></pre>
        </li>
        <br/>
        <li>Optimize the app for production:</li>
<pre><code class="language-bash line-numbers">symfony console cache:clear --env=prod
symfony console cache:warmup --env=prod
</code></pre>
        </li>
        <br/>
        <li>Install optimized Composer dependencies:</li>
<pre><code class="language-bash line-numbers">composer install --no-dev --optimize-autoloader</code></pre>
    </ul>
    <br/>
</ol>
<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->
<h3 id="symfony-composer-intro">What Is Composer?</h3>
<ol>

    <li>Overview of Composer</li>
    <br/>
    <ul>
        <li><b>Composer</b> is the official dependency manager for PHP — similar to:
            <ul>
                <li><b>npm</b> for JavaScript</li>
                <li><b>pip</b> for Python</li>
                <li><b>cargo</b> for Rust</li>
                <li><b>bundler</b> for Ruby</li>
            </ul>
        </li>
        <br/>
        <li>It allows PHP projects to install and manage:
            <ul>
                <li>libraries</li>
                <li>frameworks (Symfony, Laravel, etc.)</li>
                <li>components</li>
                <li>autoloaders</li>
                <li>project dependencies</li>
            </ul>
        </li>
        <br/>
        <li>Composer is essential for modern PHP development — most frameworks require it.</li>
        <br/>
        <li>It installs packages from <b>Packagist</b>, the default PHP package registry.</li>
    </ul>
    <br/><br/>


    <li>Installing Composer</li>
    <br/>
    <ul>
        <li>Download the installer:</li>
<pre><code class="language-bash line-numbers">php -r "copy('https://getcomposer.org/installer', 'composer-setup.php');"</code></pre>
        </li>
        <br/>
        <li>Install globally:</li>
<pre><code class="language-bash line-numbers">php composer-setup.php --install-dir=/usr/local/bin --filename=composer</code></pre>
        </li>
        <br/>
        <li>Verify installation:</li>
<pre><code class="language-bash line-numbers">composer --version</code></pre>
    </ul>
    <br/><br/>


    <li>How Composer Works</li>
    <br/>
    <ul>
        <li>Composer uses two primary files in your project:</li>
        <br/>
        <ul>
            <li><code>composer.json</code> describes required libraries</li>
            <li><code>composer.lock</code> locks the exact installed versions</li>
        </ul>
        <br/>
        <li>When running:</li>
<pre><code class="language-bash line-numbers">composer install</code></pre>
        </li>
        <br/>
        <li>Composer will:
            <ul>
                <li>download dependencies</li>
                <li>resolve version conflicts</li>
                <li>install packages to <code>vendor/</code></li>
                <li>generate the autoloader</li>
            </ul>
        </li>
        <br/>
        <li>All dependencies go into the <code>vendor/</code> directory.</li>
    </ul>
    <br/><br/>


    <li>The composer.json File</li>
    <br/>
    <ul>
        <li>A typical <code>composer.json</code>:</li>
<pre><code class="language-json line-numbers">{
    "name": "myapp/project",
    "require": {
        "symfony/http-foundation": "^7.0",
        "twig/twig": "^3.0"
    }
}
</code></pre>
        </li>
        <br/>
        <li>You can also specify:
            <ul>
                <li>autoload rules</li>
                <li>PHP version constraints</li>
                <li>scripts to run</li>
                <li>dev dependencies</li>
            </ul>
        </li>
    </ul>
    <br/><br/>


    <li>Installing Dependencies</li>
    <br/>
    <ul>
        <li>Install all dependencies:</li>
<pre><code class="language-bash line-numbers">composer install</code></pre>
        </li>
        <br/>
        <li>Add a new dependency:</li>
<pre><code class="language-bash line-numbers">composer require symfony/console</code></pre>
        </li>
        <br/>
        <li>Add a dev-only dependency:</li>
<pre><code class="language-bash line-numbers">composer require --dev phpunit/phpunit</code></pre>
        </li>
        <br/>
        <li>Update dependencies:</li>
<pre><code class="language-bash line-numbers">composer update</code></pre>
        </li>
        <br/>
        <li>Remove a dependency:</li>
<pre><code class="language-bash line-numbers">composer remove twig/twig</code></pre>
    </ul>
    <br/><br/>


    <li>The Autoloader</li>
    <br/>
    <ul>
        <li>Composer automatically generates an autoloader file:</li>
<pre><code class="language-plaintext line-numbers">vendor/autoload.php</code></pre>
        </li>
        <br/>
        <li>Load it in your PHP code:</li>
<pre><code class="language-php line-numbers">&lt;?php
require __DIR__ . "/vendor/autoload.php";
?&gt;
</code></pre>
        </li>
        <br/>
        <li>This makes all installed packages available without manual <code>require</code> calls.</li>
        <br/>
        <li>Supports PSR-4 autoloading for your own namespaces:</li>
<pre><code class="language-json line-numbers">{
    "autoload": {
        "psr-4": {
            "App\\\\": "src/"
        }
    }
}
</code></pre>
        </li>
        <br/>
        <li>After editing <code>composer.json</code> autoload section:</li>
<pre><code class="language-bash line-numbers">composer dump-autoload</code></pre>
    </ul>
    <br/><br/>


    <li>Scripts in Composer</li>
    <br/>
    <ul>
        <li>You can define automation scripts in <code>composer.json</code>:</li>
<pre><code class="language-json line-numbers">{
    "scripts": {
        "test": "phpunit",
        "start": "php -S localhost:8000 -t public"
    }
}
</code></pre>
        </li>
        <br/>
        <li>Run scripts with:</li>
<pre><code class="language-bash line-numbers">composer run test
composer run start
</code></pre>
    </ul>
    <br/><br/>


    <li>Composer Version Constraints Explained</li>
    <br/>
    <ul>
        <li>Common version patterns:
            <ul>
                <li><code>^2.0</code> → allow updates except major breaking changes</li>
                <li><code>~2.0</code> → allow updates only in minor versions</li>
                <li><code>2.0.*</code> → patch updates only</li>
                <li><code>&gt;=2.0</code> → any version ≥ 2.0</li>
            </ul>
        </li>
        <br/>
        <li>Example:</li>
<pre><code class="language-json line-numbers">"require": {
    "monolog/monolog": "^3.0"
}</code></pre>
        </li>
        <br/>
        <li>This allows version 3.0, 3.1, 3.2… but <b>not 4.0</b>.</li>
    </ul>
    <br/><br/>


    <li>Global vs Local Composer Installation</li>
    <br/>
    <ul>
        <li><b>Local</b> — installed inside each project (<code>vendor/</code>)</li>
        <li><b>Global</b> — installed once for the whole system</li>
        <br/>
        <li>Global installation example:</li>
<pre><code class="language-bash line-numbers">composer global require laravel/installer</code></pre>
        </li>
        <br/>
        <li>Useful for CLI tools like Laravel installer or PHPUnit.</li>
    </ul>
    <br/><br/>


    <li>Packagist — The PHP Package Repository</li>
    <br/>
    <ul>
        <li>By default, Composer installs packages from:</li>
<pre><code class="language-plaintext line-numbers">https://packagist.org</code></pre>
        </li>
        <br/>
        <li>Packagist hosts:
            <ul>
                <li>Symfony components</li>
                <li>Laravel components</li>
                <li>Doctrine</li>
                <li>Monolog</li>
                <li>Twig</li>
                <li>Guzzle</li>
            </ul>
        </li>
        <br/>
        <li>You can browse it for any PHP library you need.</li>
    </ul>
    <br/><br/>


    <li>Updating Composer Itself</li>
    <br/>
    <ul>
        <li>Update to latest version:</li>
<pre><code class="language-bash line-numbers">composer self-update</code></pre>
        </li>
        <br/>
        <li>Rollback to previous version:</li>
<pre><code class="language-bash line-numbers">composer self-update --rollback</code></pre>
    </ul>
    <br/><br/>


    <li>Common Problems and Solutions</li>
    <br/>
    <ul>
        <li>Memory limit errors:</li>
<pre><code class="language-bash line-numbers">php -d memory_limit=-1 /usr/local/bin/composer update</code></pre>
        </li>
        <br/>
        <li>Slow installs: use Composer v2 — it’s much faster.</li>
        <br/>
        <li>Autoload not updated:</li>
<pre><code class="language-bash line-numbers">composer dump-autoload</code></pre>
        </li>
        <br/>
        <li>Conflicts:</b> Composer tells you what packages are incompatible.</li>
        <br/>
        <li>Lock file ignored:</li>
<pre><code class="language-bash line-numbers">composer install</code></pre>
        <li>Never use <code>composer update</code> in production.</li>
    </ul>
    <br/>
</ol>
<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->
<h3 id="symfony-architecture">Symfony Architecture</h3>
<ol>

    <li>Overview of Symfony’s Architecture</li>
    <br/>
    <ul>
        <li>Symfony follows a <b>modular, decoupled architecture</b> built around reusable components.</li>
        <br/>
        <li>It is designed with:
            <ul>
                <li><b>MVC principles</b> (Model–View–Controller)</li>
                <li><b>Dependency Injection</b></li>
                <li><b>Event Dispatcher</b> pattern</li>
                <li><b>Service Container</b> as the core runtime engine</li>
                <li><b>Bundles</b> for modular features</li>
            </ul>
        </li>
        <br/>
        <li>This architecture makes Symfony:
            <ul>
                <li>highly extensible</li>
                <li>testable</li>
                <li>maintainable</li>
                <li>suitable for both microservices and large enterprise apps</li>
            </ul>
        </li>
    </ul>
    <br/><br/>


    <li>High-Level Request Lifecycle</li>
    <br/>
    <ul>
        <li>Symfony transforms each HTTP request into a controller response using the HttpKernel workflow.</li>
        <br/>
        <li>Key concepts involved:
            <ul>
                <li>Front Controller</li>
                <li>Routing</li>
                <li>Controller Execution</li>
                <li>Events (RequestEvent, ViewEvent, ResponseEvent)</li>
            </ul>
        </li>
    </ul>
    <br/><br/>


    <li>Front Controller (<code>public/index.php</code>)</li>
    <br/>
    <ul>
        <li>All requests go through one file:</li>
<pre><code class="language-php line-numbers">&lt;?php
require dirname(__DIR__).'/vendor/autoload.php';

$kernel = new Kernel('dev', true);
$response = $kernel-&gt;handle($request);
$response-&gt;send();
$kernel-&gt;terminate($request, $response);
?&gt;
</code></pre>
        </li>
        <br/>
        <li>This ensures:
            <ul>
                <li>centralized error handling</li>
                <li>environment control (dev/prod)</li>
                <li>security filters</li>
                <li>consistent bootstrapping</li>
            </ul>
        </li>
    </ul>
    <br/><br/>


    <li>Routing Component</li>
    <br/>
    <ul>
        <li>The Routing component maps a URL to a controller.</li>
        <br/>
        <li>Example:</li>
<pre><code class="language-php line-numbers">&lt;?php
#[Route('/hello/{name}', name: 'hello')]
function hello($name) { ... }
?&gt;
</code></pre>
        </li>
        <br/>
        <li>Symfony loads routes from:
            <ul>
                <li>annotations / attributes (PHP)</li>
                <li>YAML files</li>
                <li>XML files</li>
                <li>PHP config files</li>
            </ul>
        </li>
    </ul>
    <br/><br/>


    <li>HttpKernel &amp; Event Dispatcher</li>
    <br/>
    <ul>
        <li>Symfony’s request handling is event-driven.</li>
        <br/>
        <li>HttpKernel dispatches events such as:
            <ul>
                <li><code>kernel.request</code></li>
                <li><code>kernel.controller</code></li>
                <li><code>kernel.view</code></li>
                <li><code>kernel.response</code></li>
                <li><code>kernel.exception</code></li>
            </ul>
        </li>
        <br/>
        <li>Developers can attach listeners/subscribers to customize the process.</li>
        <br/>
        <li>Examples:
            <ul>
                <li>JSON response formatters</li>
                <li>Authentication listeners</li>
                <li>Error page handlers</li>
                <li>Profiling tools</li>
            </ul>
        </li>
    </ul>
    <br/><br/>


    <li>The Controller Layer</li>
    <br/>
    <ul>
        <li>Controllers are responsible for:
            <ul>
                <li>processing the request</li>
                <li>interacting with models/services</li>
                <li>returning a Response object</li>
            </ul>
        </li>
        <br/>
        <li>Typical controller:</li>
<pre><code class="language-php line-numbers">&lt;?php
class HomeController extends AbstractController {
    #[Route('/')]
    public function index() {
        return $this-&gt;render('home.html.twig');
    }
}
?&gt;
</code></pre>
        </li>
        <br/>
        <li>Symfony controllers can:
            <ul>
                <li>render templates</li>
                <li>redirect users</li>
                <li>return JSON</li>
                <li>access services from the DI container</li>
            </ul>
        </li>
    </ul>
    <br/><br/>


    <li>View Layer (Twig Templating)</li>
    <br/>
    <ul>
        <li>Symfony uses Twig as the default templating engine.</li>
        <br/>
        <li>Responsibilities:
            <ul>
                <li>output HTML</li>
                <li>format data</li>
                <li>extend layouts</li>
                <li>sanitize user input</li>
            </ul>
        </li>
        <br/>
        <li>Example template:</li>
<pre><code class="language-twig line-numbers">{% extends 'base.html.twig' %}

{% block body %}
    &lt;h1&gt;Hello {{ name }}!&lt;/h1&gt;
{% endblock %}
</code></pre>
        </li>
    </ul>
    <br/><br/>


    <li>Model Layer (Doctrine ORM)</li>
    <br/>
    <ul>
        <li>Symfony typically uses <b>Doctrine</b> as ORM (Object Relational Mapping).</li>
        <br/>
        <li>Doctrine Maps PHP classes (Entities) to database tables.</li>
        <br/>
        <li>Example entity:</li>
<pre><code class="language-php line-numbers">&lt;?php
#[ORM\Entity]
class Product {
    #[ORM\Id, ORM\GeneratedValue]
    private int $id;

    #[ORM\Column(length: 255)]
    private string $name;
}
?&gt;
</code></pre>
        </li>
        <br/>
        <li>Doctrine handles:
            <ul>
                <li>database migrations</li>
                <li>relations (OneToMany, ManyToMany)</li>
                <li>repositories (data access objects)</li>
                <li>transaction management</li>
            </ul>
        </li>
    </ul>
    <br/><br/>


    <li>Service Container (Dependency Injection)</li>
    <br/>
    <ul>
        <li>At the core of Symfony is the <b>dependency injection container</b>.</li>
        <br/>
        <li>It creates and manages objects ("services") for the entire app.</li>
        <br/>
        <li>Services include:
            <ul>
                <li>database connections</li>
                <li>mailer</li>
                <li>loggers</li>
                <li>security services</li>
                <li>custom app services</li>
            </ul>
        </li>
        <br/>
        <li>Example service registration (<code>services.yaml</code>):</li>
<pre><code class="language-yaml line-numbers">services:
    App\Service\Mailer:
        arguments:
            $adminEmail: '%env(ADMIN_EMAIL)%'</code></pre>
        </li>
        <br/>
        <li>Service injection in controllers:</li>
<pre><code class="language-php line-numbers">public function send(Mailer $mailer) {
    $mailer-&gt;send("hello@test.com");
}</code></pre>
    </ul>
    <br/><br/>


    <li>Bundles: Modular Symfony Extensions</li>
    <br/>
    <ul>
        <li>Bundles are reusable packages containing:
            <ul>
                <li>controllers</li>
                <li>routes</li>
                <li>services</li>
                <li>configs</li>
                <li>templates</li>
            </ul>
        </li>
        <br/>
        <li>Core Symfony bundles include:
            <ul>
                <li><code>FrameworkBundle</code></li>
                <li><code>SecurityBundle</code></li>
                <li><code>TwigBundle</code></li>
                <li><code>DoctrineBundle</code></li>
                <li><code>MonologBundle</code></li>
            </ul>
        </li>
        <br/>
        <li>Bundles are automatically registered in <code>config/bundles.php</code>.</li>
    </ul>
    <br/><br/>


    <li>Configuration System</li>
    <br/>
    <ul>
        <li>Symfony uses flexible config formats:
            <ul>
                <li>YAML</li>
                <li>PHP</li>
                <li>XML</li>
            </ul>
        </li>
        <br/>
        <li>Main config areas:
            <ul>
                <li><code>framework.yaml</code></li>
                <li><code>services.yaml</code></li>
                <li><code>routes.yaml</code></li>
                <li><code>packages/*.yaml</code></li>
            </ul>
        </li>
        <br/>
        <li>Environment-specific configs:
<pre><code class="language-plaintext line-numbers">config/
├── packages/dev/
├── packages/prod/
├── services_dev.yaml
├── services_prod.yaml
</code></pre>
        </li>
    </ul>
    <br/><br/>


    <li>Symfony Flex</li>
    <br/>
    <ul>
        <li>Symfony Flex automates:
            <ul>
                <li>installing bundles</li>
                <li>adding config files</li>
                <li>modifying <code>composer.json</code></li>
                <li>scaffolding project structure</li>
            </ul>
        </li>
        <br/>
        <li>Example:
<pre><code class="language-bash line-numbers">composer require symfony/security-bundle</code></pre>
        </li>
        <br/>
        <li>Flex automatically:
            <ul>
                <li>downloads bundle</li>
                <li>creates config files</li>
                <li>updates env vars</li>
            </ul>
        </li>
    </ul>
    <br/>
</ol>
<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->
<h3 id="symfony-components">Symfony Components</h3>
<ol>

    <li>Overview of Symfony Components</li>
    <br/>
    <ul>
        <li>Symfony Components are a collection of <b>decoupled, reusable PHP libraries</b> that solve common web development problems.</li>
        <br/>
        <li>You can use Symfony Components:
            <ul>
                <li>inside the Symfony Framework</li>
                <li>inside other frameworks (Laravel, Drupal, Magento)</li>
                <li>in plain PHP projects</li>
                <li>in microservices or CLI scripts</li>
            </ul>
        </li>
        <br/>
        <li>Benefits of using components:</li>
        <ul>
            <li>well-tested and stable</li>
            <li>PSR-compliant</li>
            <li>independent (use only what you need)</li>
            <li>robust documentation</li>
        </ul>
        <br/>
        <li>Examples of popular components:
            <ul>
                <li>Routing</li>
                <li>EventDispatcher</li>
                <li>HttpFoundation</li>
                <li>Console</li>
                <li>Yaml</li>
                <li>DomCrawler</li>
            </ul>
        </li>
    </ul>
    <br/><br/>


    <li>The <code>HttpFoundation</code> Component</li>
    <br/>
    <ul>
        <li>Replaces raw PHP superglobals (<code>$_GET</code>, <code>$_POST</code>, <code>$_COOKIE</code>, etc.) with object-oriented Request & Response classes.</li>
        <br/>
        <li>Example — creating a response:</li>
<pre><code class="language-php line-numbers">&lt;?php
use Symfony\Component\HttpFoundation\Response;

$response = new Response("Hello World", 200);
$response-&gt;send();
?&gt;</code></pre>
        </li>
        <br/>
        <li>This component is the foundation of Symfony’s HTTP layer.</li>
    </ul>
    <br/><br/>


    <li>The <code>Routing</code> Component</li>
    <br/>
    <ul>
        <li>Maps URLs to specific controllers or callbacks.</li>
        <br/>
        <li>Example:</li>
<pre><code class="language-php line-numbers">&lt;?php
use Symfony\Component\Routing\Route;
use Symfony\Component\Routing\RouteCollection;

$routes = new RouteCollection();
$routes-&gt;add('hello', new Route('/hello/{name}'));
?&gt;</code></pre>
        </li>
        <br/>
        <li>Used widely in APIs, microservices, and framework-less apps.</li>
    </ul>
    <br/><br/>


    <li>The <code>EventDispatcher</code> Component</li>
    <br/>
    <ul>
        <li>Implements the Observer pattern.</li>
        <br/>
        <li>Allows different parts of an app to react to events without tight coupling.</li>
        <br/>
        <li>Example — dispatching an event:</li>
<pre><code class="language-php line-numbers">&lt;?php
$dispatcher-&gt;dispatch(new UserRegisteredEvent($user));
?&gt;</code></pre>
        </li>
        <br/>
        <li>Used internally by Symfony’s HttpKernel, Security, and Messenger systems.</li>
    </ul>
    <br/><br/>


    <li>The <code>DependencyInjection</code> Component</li>
    <br/>
    <ul>
        <li>Powers the <b>Service Container</b>.</li>
        <br/>
        <li>Handles automatic dependency resolution and object creation.</li>
        <br/>
        <li>Example service definition (YAML):</li>
<pre><code class="language-yaml line-numbers">services:
    App\Service\Mailer:
        arguments:
            $host: "smtp.example.com"
</code></pre>
        </li>
        <br/>
        <li>Provides strong decoupling and testability.</li>
    </ul>
    <br/><br/>


    <li>The <code>Console</code> Component</li>
    <br/>
    <ul>
        <li>Used to build command-line tools.</li>
        <br/>
        <li>Symfony Console is one of the most popular CLI libraries in PHP.</li>
        <br/>
        <li>Example command class:</li>
<pre><code class="language-php line-numbers">&lt;?php
use Symfony\Component\Console\Command\Command;

class HelloCommand extends Command {
    protected function execute($input, $output) {
        $output-&gt;writeln("Hello!");
        return Command::SUCCESS;
    }
}
?&gt;</code></pre>
        </li>
        <br/>
        <li>Symfony’s <code>bin/console</code> is powered by this component.</li>
    </ul>
    <br/><br/>


    <li>The <code>Finder</code> Component</li>
    <br/>
    <ul>
        <li>Searches for files and directories.</li>
        <br/>
        <li>Example — find all .php files:</li>
<pre><code class="language-php line-numbers">&lt;?php
use Symfony\Component\Finder\Finder;

$finder = new Finder();
$finder-&gt;files()-&gt;in('src')-&gt;name('*.php');
?&gt;</code></pre>
        </li>
        <br/>
        <li>Useful for CLI tools, build scripts, and automated tasks.</li>
    </ul>
    <br/><br/>


    <li>The <code>Yaml</code> Component</li>
    <br/>
    <ul>
        <li>Loads and dumps YAML configuration files.</li>
        <br/>
        <li>Sample usage:</li>
<pre><code class="language-php line-numbers">&lt;?php
use Symfony\Component\Yaml\Yaml;

$data = Yaml::parseFile('config.yaml');
?&gt;</code></pre>
        </li>
        <br/>
        <li>Used heavily in Symfony’s configuration system.</li>
    </ul>
    <br/><br/>


    <li>The <code>Serializer</code> Component</li>
    <br/>
    <ul>
        <li>Converts PHP objects to JSON, XML, YAML, or arrays.</li>
        <br/>
        <li>Used in APIs and message processing.</li>
<pre><code class="language-php line-numbers">&lt;?php
$serializer-&gt;serialize($user, 'json');
?&gt;</code></pre>
        </li>
        <br/>
        <li>Highly customizable with normalizers and encoders.</li>
    </ul>
    <br/><br/>


    <li>The <code>Validator</code> Component</li>
    <br/>
    <ul>
        <li>Provides object validation using constraints.</li>
        <br/>
        <li>Example:</li>
<pre><code class="language-php line-numbers">&lt;?php
use Symfony\Component\Validator\Constraints as Assert;

class User {
    #[Assert\NotBlank]
    public $name;
}
?&gt;</code></pre>
        </li>
        <br/>
        <li>Used in form handling, API validation, and data processing.</li>
    </ul>
    <br/><br/>


    <li>The <code>Form</code> Component</li>
    <br/>
    <ul>
        <li>Handles form creation, rendering, submission, and validation.</li>
        <br/>
        <li>Example form type:</li>
<pre><code class="language-php line-numbers">&lt;?php
class ContactType extends AbstractType {
    public function buildForm($builder, $options) {
        $builder
            -&gt;add('name')
            -&gt;add('email')
            -&gt;add('message');
    }
}
?&gt;</code></pre>
        </li>
        <br/>
        <li>Useful in CRUD apps or admin panels.</li>
    </ul>
    <br/><br/>


    <li>Other Useful Symfony Components</li>
    <br/>
<table>
    <thead>
        <tr>
            <th>Symfony Component</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code>Translation</code></td>
            <td>Internationalization (i18n) and localization support.</td>
        </tr>
        <tr>
            <td><code>Cache</code></td>
            <td>Cache adapters for Redis, Memcached, and filesystem caching.</td>
        </tr>
        <tr>
            <td><code>Process</code></td>
            <td>Execute and manage shell commands from PHP.</td>
        </tr>
        <tr>
            <td><code>Security</code></td>
            <td>Authentication and access control system.</td>
        </tr>
        <tr>
            <td><code>Messenger</code></td>
            <td>Message bus for CQRS, queues, and async processing.</td>
        </tr>
        <tr>
            <td><code>HttpClient</code></td>
            <td>Fast, modern HTTP client alternative to Guzzle.</td>
        </tr>
        <tr>
            <td><code>Mime</code></td>
            <td>Email handling and MIME type utilities.</td>
        </tr>
        <tr>
            <td><code>DomCrawler</code></td>
            <td>HTML and DOM parsing API.</td>
        </tr>
        <tr>
            <td><code>CssSelector</code></td>
            <td>CSS selector engine for querying DOM elements.</td>
        </tr>
        <tr>
            <td><code>Filesystem</code></td>
            <td>Convenient file and directory management tools.</td>
        </tr>
    </tbody>
</table>
    <br/><br/>


    <li>How Symfony Uses Components Internally</li>
    <br/>
    <ul>
        <li>Symfony Framework = collection of components + glue code.</li>
        <br/>
        <li>Example internal usage:
            <ul>
                <li>Routing resolves URLs</li>
                <li>HttpKernel orchestrates the request lifecycle</li>
                <li>EventDispatcher triggers events</li>
                <li>HttpFoundation standardizes requests/responses</li>
                <li>DependencyInjection builds the service container</li>
            </ul>
        </li>
        <br/>
        <li>Each component is tested separately and follows semantic versioning.</li>
    </ul>
    <br/><br/>


    <li>Using Components Without the Framework</li>
    <br/>
    <ul>
        <li>You can install any component with Composer:</li>
<pre><code class="language-bash line-numbers">composer require symfony/http-foundation</code></pre>
        </li>
        <br/>
        <li>Use case examples:
            <ul>
                <li>custom microframework</li>
                <li>CLI utilities</li>
                <li>API microservices</li>
                <li>legacy PHP modernization</li>
                <li>email processing tools</li>
            </ul>
        </li>
        <br/>
        <li>Symfony Components are framework-agnostic.</li>
    </ul>
    <br/>
</ol>
<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->
<h3 id="symfony-service-container">Symfony Service Container</h3>
<ol>

    <li>Introduction to the Service Container</li>
    <br/>
    <ul>
        <li>The <b>Service Container</b> is the core of Symfony’s architecture. It manages:
            <ul>
                <li>object creation (services)</li>
                <li>dependency injection</li>
                <li>configuration of services</li>
                <li>performance optimizations (caching + compiling)</li>
            </ul>
        </li>
        <br/>
        <li>Instead of manually instantiating objects using <code>new</code>, Symfony delegates object management to the container.</li>
        <br/>
        <li>Advantages:
            <ul>
                <li>loose coupling</li>
                <li>cleaner architecture</li>
                <li>better testability</li>
                <li>automatic dependency resolution</li>
            </ul>
        </li>
        <br/>
        <li>Every major part of Symfony (routing, Twig, security, logging) is organized as a service managed by this container.</li>
    </ul>
    <br/><br/>


    <li>What Is a Service?</li>
    <br/>
    <ul>
        <li>A <code>service</code> is simply a PHP object that performs a reusable task in your application.</li>
        <br/>
        <li>Examples of services:
            <ul>
                <li>Mailer service</li>
                <li>Logger</li>
                <li>Database connection</li>
                <li>API call client</li>
                <li>Authentication manager</li>
            </ul>
        </li>
        <br/>
        <li>Custom service example:</li>
<pre><code class="language-php line-numbers">&lt;?php
namespace App\Service;

class Mailer {
    public function send(string $email, string $message) {
        // ...
    }
}
?&gt;
</code></pre>
        </li>
        <br/>
        <li>The Service Container instantiates and manages this class automatically.</li>
    </ul>
    <br/><br/>


    <li>How Dependency Injection Works</li>
    <br/>
    <ul>
        <li>Dependencies are automatically passed into the constructor of a service.</li>
        <br/>
        <li>Example service with dependencies:</li>
<pre><code class="language-php line-numbers">&lt;?php
namespace App\Service;

use Psr\Log\LoggerInterface;

class ReportGenerator {
    public function __construct(
        private LoggerInterface $logger
    ) {}

    public function generate() {
        $this->logger->info("Report generated.");
    }
}
?&gt;
</code></pre>
        </li>
        <br/>
        <li>Symfony automatically resolves <code>LoggerInterface</code> and injects the correct service into <code>ReportGenerator</code>.</li>
    </ul>
    <br/><br/>


    <li>Service Registration</li>
    <br/>
    <ul>
        <li>Symfony automatically registers most classes in <code>src/</code> as services (<b>autoconfiguration + autowiring</b>).</li>
        <br/>
        <li>Manual service definition (YAML):</li>
<pre><code class="language-yaml line-numbers"># config/services.yaml
services:
    App\Service\Mailer:
        arguments:
            $host: '%env(SMTP_HOST)%'
</code></pre>
        </li>
        <br/>
        <li>Services can be registered via YAML, XML, or PHP config.</li>
    </ul>
    <br/><br/>


    <li>Autowiring</li>
    <br/>
    <ul>
        <li><b>Autowiring</b> automatically finds and injects services based on type hints.</li>
        <br/>
        <li>Example controller using autowired service:</li>
<pre><code class="language-php line-numbers">&lt;?php
class ReportController extends AbstractController {
    public function index(ReportGenerator $generator) {
        $generator->generate();
        return new Response("Done");
    }
}
?&gt;
</code></pre>
        </li>
        <br/>
        <li>No need for configuration — Symfony sees the type <code>ReportGenerator</code> and injects it.</li>
    </ul>
    <br/><br/>


    <li>Autoconfiguration</li>
    <br/>
    <ul>
        <li>Autoconfiguration tells Symfony to automatically apply:
            <ul>
                <li>tags (e.g. event subscribers)</li>
                <li>interfaces (e.g. command handlers)</li>
                <li>service behaviors</li>
            </ul>
        </li>
        <br/>
        <li>Enabled by default in <code>services.yaml</code>:</li>
<pre><code class="language-yaml line-numbers">_defaults:
    autowire: true
    autoconfigure: true
</code></pre>
        </li>
        <br/>
        <li>Example: a class implementing <code>EventSubscriberInterface</code> is automatically tagged as an event subscriber.</li>
    </ul>
    <br/><br/>


    <li>Service Visibility (Public vs Private)</li>
    <br/>
    <ul>
        <li><b>Private services</b> cannot be fetched directly from the container.</li>
        <li><b>Public services</b> can be accessed via the container (discouraged).</li>
        <br/>
        <li>By default, all custom services are <b>private</b> — good practice.</li>
        <br/>
        <li>To make a service public:</li>
<pre><code class="language-yaml line-numbers">services:
    App\Service\Mailer:
        public: true
</code></pre>
        </li>
        <br/>
        <li>Best practice: use <b>dependency injection</b>, not <code>$container->get()</code>.</li>
    </ul>
    <br/><br/>


    <li>Accessing the Container</li>
    <br/>
    <ul>
        <li>Direct access to the container in controllers is discouraged:</li>
<pre><code class="language-php line-numbers">$mailer = $this->container->get(Mailer::class);</code></pre>
        </li>
        <br/>
        <li>Correct method: inject the service in your controller constructor or action.</li>
        <br/>
        <li>For rare cases, you can inject the container itself:</li>
<pre><code class="language-yaml line-numbers">services:
    App\Controller\SpecialController:
        arguments: ['@service_container']
</code></pre>
        </li>
        <br/>
        <li>But this breaks dependency inversion — avoid it.</li>
    </ul>
    <br/><br/>


    <li>Service Tags</li>
    <br/>
    <ul>
        <li>Tags tell the container that a service has a special role.</li>
        <br/>
        <li>Examples of tags:
            <ul>
                <li><code>kernel.event_listener</code></li>
                <li><code>kernel.event_subscriber</code></li>
                <li><code>console.command</code></li>
                <li><code>doctrine.repository_service</code></li>
            </ul>
        </li>
        <br/>
        <li>Example (YAML):</li>
<pre><code class="language-yaml line-numbers">services:
    App\Event\UserRegisteredSubscriber:
        tags: ['kernel.event_subscriber']
</code></pre>
        </li>
        <br/>
        <li>Autoconfiguration applies many tags automatically.</li>
    </ul>
    <br/><br/>


    <li>Service Aliases</li>
    <br/>
    <ul>
        <li>Aliases provide alternative names for services.</li>
        <br/>
        <li>Example:</li>
<pre><code class="language-yaml line-numbers">services:
    mailer: '@App\Service\Mailer'
</code></pre>
        </li>
        <br/>
        <li>Now <code>mailer</code> refers to the same service as <code>App\Service\Mailer</code>.</li>
    </ul>
    <br/><br/>


    <li>Container Compilation</li>
    <br/>
    <ul>
        <li>Symfony compiles and optimizes the Service Container into plain PHP.</li>
        <br/>
        <li>Generated container files live in:</li>
<pre><code class="language-plaintext line-numbers">var/cache/dev/</code></pre>
        </li>
        <br/>
        <li>Compilation benefits:
            <ul>
                <li>faster service resolution</li>
                <li>removal of unused services</li>
                <li>inlined definitions</li>
                <li>cached autowiring metadata</li>
            </ul>
        </li>
        <br/>
        <li>Recompile manually:</li>
<pre><code class="language-bash line-numbers">symfony console cache:clear</code></pre>
    </ul>
    <br/><br/>


    <li>Debugging Services</li>
    <br/>
    <ul>
        <li>List all services:</li>
<pre><code class="language-bash line-numbers">symfony console debug:container</code></pre>
        </li>
        <br/>
        <li>Find services containing name:</li>
<pre><code class="language-bash line-numbers">symfony console debug:container mail</code></pre>
        </li>
        <br/>
        <li>Inspect service details:</li>
<pre><code class="language-bash line-numbers">symfony console debug:container App\Service\Mailer</code></pre>
        </li>
    </ul>
    <br/>
</ol>
<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->
<h3 id="symfony-events-listeners">Symfony Events &amp; Event Listeners</h3>
<ol>

    <li>Introduction to Symfony’s Event System</li>
    <br/>
    <ul>
        <li>Symfony uses an <b>event-driven architecture</b> at the heart of its HTTP Kernel.</li>
        <br/>
        <li>This architecture enables different parts of the framework (and your app) to <b>react to events</b> during the request–response lifecycle.</li>
        <br/>
        <li>Core ideas:
            <ul>
                <li>Events represent something that happens (request received, controller chosen, response sent…)</li>
                <li>Event listeners react to those events</li>
                <li>Event subscribers register multiple listeners</li>
                <li>The EventDispatcher triggers the events</li>
            </ul>
        </li>
        <br/>
        <li>The system allows:
            <ul>
                <li>decoupling</li>
                <li>clean cross-cutting logic</li>
                <li>plug-in architecture</li>
            </ul>
        </li>
    </ul>
    <br/><br/>


    <li>What Is the EventDispatcher?</li>
    <br/>
    <ul>
        <li>The <b>EventDispatcher</b> component is responsible for:
            <ul>
                <li>registering event listeners</li>
                <li>dispatching events</li>
                <li>triggering listener callbacks</li>
            </ul>
        </li>
        <br/>
        <li>Example in plain PHP:</li>
<pre><code class="language-php line-numbers">&lt;?php
use Symfony\Component\EventDispatcher\EventDispatcher;

$dispatcher = new EventDispatcher();
$dispatcher->addListener('user.registered', function () {
    echo "Event caught!";
});
$dispatcher->dispatch(new Event(), 'user.registered');
?&gt;</code></pre>
        </li>
        <br/>
        <li>Symfony uses this internally for routing, controllers, responses, exceptions, security, etc.</li>
    </ul>
    <br/><br/>


    <li>Symfony’s Built-In Kernel Events</li>
    <br/>
    <ul>
        <li>Symfony emits many core events during request processing.</li>
        <br/>
        <li>Most important events:
            <ul>
                <li><code>kernel.request</code></li>
                <li><code>kernel.controller</code></li>
                <li><code>kernel.controller_arguments</code></li>
                <li><code>kernel.view</code></li>
                <li><code>kernel.response</code></li>
                <li><code>kernel.terminate</code></li>
                <li><code>kernel.exception</code></li>
            </ul>
        </li>
        <br/>
        <li>Example lifecycle:</li>
<pre><code class="language-plaintext line-numbers">Request → kernel.request → kernel.controller → controller → response
         ↑                                         ↓
     listeners                                kernel.view
</code></pre>
        </li>
        <br/>
        <li>You can hook into any of these with listeners or subscribers.</li>
    </ul>
    <br/><br/>


    <li>Creating a Custom Event</li>
    <br/>
    <ul>
        <li>Define your own event class:</li>
<pre><code class="language-php line-numbers">&lt;?php
namespace App\Event;

use Symfony\Contracts\EventDispatcher\Event;

class UserRegisteredEvent extends Event {
    public function __construct(
        public readonly string $email
    ) {}
}
?&gt;</code></pre>
        </li>
        <br/>
        <li>This encapsulates the data that listeners will handle.</li>
    </ul>
    <br/><br/>


    <li>Dispatching an Event</li>
    <br/>
    <ul>
        <li>Inject the EventDispatcher into your service or controller:</li>
<pre><code class="language-php line-numbers">&lt;?php
use App\Event\UserRegisteredEvent;
use Symfony\Component\EventDispatcher\EventDispatcherInterface;

class UserService {
    public function __construct(private EventDispatcherInterface $dispatcher) {}

    public function register(string $email) {
        // ... save user ...
        $this->dispatcher->dispatch(new UserRegisteredEvent($email));
    }
}
?&gt;</code></pre>
        </li>
        <br/>
        <li>Dispatching triggers all listeners registered for this event.</li>
    </ul>
    <br/><br/>


    <li>Creating an Event Listener</li>
    <br/>
    <ul>
        <li>An <b>event listener</b> is a class with a single public method reacting to an event:</li>
<pre><code class="language-php line-numbers">&lt;?php
namespace App\EventListener;

use App\Event\UserRegisteredEvent;

class WelcomeEmailListener {
    public function onUserRegistered(UserRegisteredEvent $event) {
        // send email
    }
}
?&gt;</code></pre>
        </li>
        <br/>

        <li>Register the listener (YAML):</li>
<pre><code class="language-yaml line-numbers">services:
    App\EventListener\WelcomeEmailListener:
        tags:
            - { name: 'kernel.event_listener', event: 'App\Event\UserRegisteredEvent', method: 'onUserRegistered' }
</code></pre>
        </li>
        <br/>
        <li>Symfony automatically calls <code>onUserRegistered()</code> when the event is dispatched.</li>
    </ul>
    <br/><br/>


    <li>Creating an Event Subscriber</li>
    <br/>
    <ul>
        <li>A subscriber is a class that listens to multiple events.</li>
        <br/>
        <li>Implement <code>EventSubscriberInterface</code>:</li>
<pre><code class="language-php line-numbers">&lt;?php
namespace App\EventSubscriber;

use App\Event\UserRegisteredEvent;
use Symfony\Component\EventDispatcher\EventSubscriberInterface;

class UserSubscriber implements EventSubscriberInterface {
    public static function getSubscribedEvents(): array {
        return [
            UserRegisteredEvent::class => 'onRegister',
            'kernel.response'          => 'onResponse',
        ];
    }

    public function onRegister(UserRegisteredEvent $event) { /* ... */ }

    public function onResponse($event) { /* ... */ }
}
?&gt;</code></pre>
        </li>
        <br/>

        <li>Register subscriber (YAML):</li>
<pre><code class="language-yaml line-numbers">services:
    App\EventSubscriber\UserSubscriber:
        tags:
            - { name: 'kernel.event_subscriber' }
</code></pre>
        </li>
        <br/>

        <li>Subscribers are better than listeners when:
            <ul>
                <li>you handle many events</li>
                <li>you want clearer organization</li>
                <li>you want automatic tagging via autoconfiguration</li>
            </ul>
        </li>
    </ul>
    <br/><br/>


    <li>Event Priorities</li>
    <br/>
    <ul>
        <li>Multiple listeners can react to the same event.</li>
        <br/>
        <li>You can control execution order using <b>priority</b> (higher = earlier):</li>
<pre><code class="language-yaml line-numbers">services:
    App\EventListener\FirstListener:
        tags:
            - { name: kernel.event_listener, event: App\Event\UserRegisteredEvent, priority: 20 }

    App\EventListener\SecondListener:
        tags:
            - { name: kernel.event_listener, event: App\Event\UserRegisteredEvent, priority: 10 }
</code></pre>
        </li>
        <br/>
        <li>Example:
            <ul>
                <li>priority 20 → runs first</li>
                <li>priority 10 → runs second</li>
            </ul>
        </li>
    </ul>
    <br/><br/>


    <li>Modifying Responses with Events</li>
    <br/>
    <ul>
        <li>You can modify or replace the response using <code>kernel.response</code>:</li>
<pre><code class="language-php line-numbers">&lt;?php
class AddHeaderListener {
    public function onKernelResponse(ResponseEvent $event) {
        $response = $event->getResponse();
        $response->headers->set('X-App', 'Demo');
    }
}
?&gt;</code></pre>
        </li>
        <br/>
        <li>Useful for:
            <ul>
                <li>security headers</li>
                <li>performance headers</li>
                <li>response normalization</li>
            </ul>
        </li>
    </ul>
    <br/><br/>


    <li>Handling Exceptions with Events</li>
    <br/>
    <ul>
        <li><code>kernel.exception</code> allows custom exception handling:</li>
<pre><code class="language-php line-numbers">&lt;?php
class ExceptionListener {
    public function onKernelException(ExceptionEvent $event) {
        $event->setResponse(new Response("Custom error!", 500));
    }
}
?&gt;</code></pre>
        </li>
        <br/>
        <li>Use cases:
            <ul>
                <li>API JSON error formatting</li>
                <li>Custom error pages</li>
                <li>Logging exceptions</li>
            </ul>
        </li>
    </ul>
    <br/>
</ol>
<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->

<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->

<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->

<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->

<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->

<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->

<!-- * * * * * * * * * * * * * * -->


<hr/>
<!-- * * * * * * * * * * * * * * -->

<footer>
    <p>&copy; 2025 Hwangfucius. All rights reserved.</p>
</footer>
</body>
<!-- * * * * * * * * * * * * * * -->
</html>
<!-- * * * * * * * * * * * * * * -->

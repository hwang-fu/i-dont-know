<!-- * * * * * * * * * * * * * * -->
<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Docker</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.css">

    <script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/autoloader/prism-autoloader.min.js"
            data-prismjs-autoloader-path="https://cdn.jsdelivr.net/npm/prismjs/components/"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.js"></script>

<style>
    html {
        scroll-behavior: smooth;
    }

    .back-to-top {
        position: fixed;
        right: 20px;
        bottom: 20px;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: #333;
        color: #fff;
        display: flex;
        align-items: center;
        justify-content: center;
        text-decoration: none;
        font-size: 22px;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
        opacity: 0.75;
        transition: opacity 0.2s ease, transform 0.2s ease;
        z-index: 999;
    }

    .back-to-top:hover {
        opacity: 1;
        transform: translateY(-2px);
    }

    .nav-icon {
        width: 38px;
        height: 38px;
        object-fit: contain;
        vertical-align: middle;
        margin-left: 0.3rem;
    }

    table {
        border-collapse: collapse;
        width: 100%;
        font-family: "KaiTi", "楷体", "STKaiti", "Kaiti SC", serif;
        font-size: 14px;
    }

    th {
        background-color: #f5f5f5;
        text-align: left;
        font-weight: 600;
    }

    th, td {
        border: 1px solid #ddd;
        padding: 8px 12px;
    }

    tr:nth-child(even) {
        background-color: #fafafa;
    }

    tr:hover {
        background-color: #f0f8ff;
    }

    .comment {
        color: grey;
    }

    .token.keyword {
        font-weight: 500;
    }

    .red-underline {
        text-decoration-line: underline;
        text-decoration-color: red;
        text-decoration-thickness: 2px;
        text-underline-offset: 2px;
    }

    body {
        font-family: "KaiTi", "楷体", "STKaiti", "Kaiti SC", serif;
        font-variant-ligatures: none;
    }

    ul > li {
        list-style-type: disc;
    }

    code {
        color: #24292e;
        background-color: #f6f8fa;
        border: 1px solid #d0d7de;
        border-radius: .375rem;
        padding: .05rem .35rem;
        font-family: "FiraCode Nerd Font", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
        font-size: 0.775rem;
        line-height: 1.1;
    }


    pre {
        margin: 1rem 0;
        padding: .8rem 1rem;
        background-color: #f6f8fa;
        border: 1px solid #d0d7de;
        border-radius: .5rem;
        overflow: auto;
        tab-size: 4;
    }


    pre code {
        display: block;
        padding: 0;
        background: transparent;
        border: 0;
        color: #24292e;
        font-family: "FiraCode Nerd Font", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
        font-size: 0.875rem;
        line-height: 1.5;
        white-space: pre;
    }
</style>
</head>
<!-- * * * * * * * * * * * * * * -->
<body>
<a href="#" class="back-to-top" aria-label="Back to top">
    &#8593;
</a>
<!-- * * * * * * * * * * * * * * -->


<!-- * * * * * * * * * * * * * * -->
<hr/>
<nav id="toc" style="margin-bottom: 2rem;">
    <h2> <img src="resources/docker.png" alt="Logo" class="nav-icon"/> Documentation Index</h2>
    <ol style="line-height: 1.8;">
        <li><a href="#docker-overview">Overview</a></li>
        <li><a href="#docker-hub">Hub</a></li>
        <li><a href="#docker-images">Images</a></li>
        <li><a href="#docker-containers">Containers</a></li>
        <li><a href="#docker-dockerfile-anatomy">Dockerfile Anatomy</a></li>
    </ol>
</nav>
<hr/>
<!-- * * * * * * * * * * * * * * -->


<!-- * * * * * * * * * * * * * * -->
<h3 id="docker-overview">Docker Overview</h3>
<ol>

    <li>What Is Docker?</li>
    <br/>
    <ul>
        <li><b>Docker</b> is a platform that allows developers to package, ship, and run applications inside <b>containers</b>.</li>
        <br/>
        <li>A container includes everything an application needs:</li>
        <ul>
            <li>source code</li>
            <li>runtime (Python, Node.js, Java, etc.)</li>
            <li>system tools</li>
            <li>libraries &amp; dependencies</li>
            <li>configuration</li>
        </ul>
        <br/>
        <li>Containers let your app run consistently across different machines:</li>
        <ul>
            <li>developer laptops</li>
            <li>CI/CD servers</li>
            <li>development/production servers</li>
            <li>cloud platforms</li>
        </ul>
        <br/>
        <li>Think of Docker as “lightweight virtual machines” that start in milliseconds and use very little overhead.</li>
    </ul>
    <br/><br/>


    <li>Why Use Docker?</li>
    <br/>
    <ul>
        <li>Docker solves the infamous:</li>
<pre><code class="language-plaintext line-numbers">"It works on my machine" problem</code></pre>
        <br/>
        <li>Docker has become the standard for building and deploying modern applications.</li>
    </ul>
    <br/><br/>


    <li>Understanding Images vs Containers</li>
    <br/>
    <ul>
        <li><b>Docker Image</b>:</li>
        <ul>
            <li>a read-only template that defines a container</li>
            <li>contains your app + dependencies</li>
            <li>built using a <code>Dockerfile</code></li>
        </ul>
        <br/>
        <li><b>Docker Container</b>:</li>
        <ul>
            <li>a running instance of an image</li>
            <li>you can run many containers from one image</li>
            <li>containers can be started, stopped, removed</li>
        </ul>
        <br/>
        <li>Analogy:</li>
<pre><code class="language-plaintext line-numbers">Image = class
Container = object created from that class
</code></pre>
    </ul>
    <br/><br/>


    <li>What Is a Dockerfile?</li>
    <br/>
    <ul>
        <li>A <code>Dockerfile</code> is a text file with instructions on how to build a Docker image.</li>
        <br/>
        <li>Example:</li>
<pre><code class="language-docker line-numbers">FROM python:3.12-alpine
COPY app.py /app.py
CMD ["python", "app.py"]
</code></pre>
        <br/>
        <li>Every line creates a new layer in the final Docker image.</li>
    </ul>
    <br/><br/>


    <li>Basic Docker Commands</li>
    <br/>
    <ul>
        <li>Pull an image:</li>
<pre><code class="language-bash line-numbers">docker pull python:3.12</code></pre>
        <br/>
        <li>List images:</li>
<pre><code class="language-bash line-numbers">docker images</code></pre>
        <br/>
        <li>Run a container:</li>
<pre><code class="language-bash line-numbers">docker run python:3.12</code></pre>
        <br/>
        <li>List running containers:</li>
<pre><code class="language-bash line-numbers">docker ps</code></pre>
        <br/>
        <li>Stop a container:</li>
<pre><code class="language-bash line-numbers">docker stop &lt;container_id&gt;</code></pre>
        </br>
        <li>Remove a container:</li>
<pre><code class="language-bash line-numbers">docker rm &lt;container_id&gt;</code></pre>
        <br/>
        <li>Build a Docker image:</li>
<pre><code class="language-bash line-numbers">docker build -t myapp .</code></pre>
    </ul>
    <br/><br/>


    <li>Layered Architecture of Docker</li>
    <br/>
    <ul>
        <li>Docker images are composed of layers:</li>
        <ul>
            <li>each command in <code>Dockerfile</code> creates a layer</li>
            <li>layers are cached → faster builds</li>
            <li>shared layers reduce storage usage</li>
        </ul>
        <br/>
        <li>Example:</li>
<pre><code class="language-plaintext line-numbers">FROM python
COPY . /app
RUN pip install -r requirements.txt
CMD ["python", "app.py"]
</code></pre>
        <br/>
        <li>Changing the last line only rebuilds the last layer → faster development.</li>
    </ul>
    <br/><br/>


    <li>Bind Mounts vs Volumes</li>
    <br/>
    <ul>
        <li>Two ways to persist or share data:</li>
        <br/>
        <li><b>Bind Mounts</b>:</li>
        <ul>
            <li>directly map a folder on your host into the container</li>
            <li>good for development</li>
        </ul>
<pre><code class="language-bash line-numbers">docker run -v $(pwd):/app myapp</code></pre>
        <br/>
        <li><b>Volumes</b>:</li>
        <ul>
            <li>managed by Docker</li>
            <li>best for databases and production</li>
        </ul>
<pre><code class="language-bash line-numbers">docker volume create mydata</code></pre>
    </ul>
    <br/><br/>


    <li>Docker Compose Overview</li>
    <br/>
    <ul>
        <li><b>Docker Compose</b> is a tool for defining and running multi-container applications.</li>
        <br/>
        <li>Useful for apps needing:</li>
        <ul>
            <li>web server</li>
            <li>database</li>
            <li>cache</li>
            <li>background workers</li>
        </ul>
        <br/>
        <li>Example <code>docker-compose.yml</code>:</li>
<pre><code class="language-yaml line-numbers">version: "3"
services:
  web:
    build: .
    ports:
      - "5000:5000"
  db:
    image: postgres:16
</code></pre>
        <br/>
        <li>Start everything:</li>
<pre><code class="language-bash line-numbers">docker compose up</code></pre>
    </ul>
    <br/><br/>


    <li>Docker Hub</li>
    <br/>
    <ul>
        <li><b>Docker Hub</b> is a cloud registry that hosts container images.</li>
        <br/>
        <li>You can:</li>
        <ul>
            <li>pull thousands of official images</li>
            <li>push your own images</li>
            <li>share with teams or make them public</li>
        </ul>
        <br/>
        <li>Push an image:</li>
<pre><code class="language-bash line-numbers">docker push username/myapp</code></pre>
    </ul>
    <br/><br/>


    <li>Docker in Production</li>
    <br/>
    <ul>
        <li>Docker containers are widely used in production because:</li>
        <ul>
            <li>fast deployment</li>
            <li>easy rollbacks</li>
            <li>isolated environments</li>
            <li>consistent builds</li>
        </ul>
        <br/>
        <li>Often combined with:</li>
        <ul>
            <li>NGINX</li>
            <li>reverse proxies</li>
            <li>Kubernetes orchestration</li>
            <li>cloud services (AWS ECS, Azure ACI, Google Cloud Run)</li>
        </ul>
    </ul>
    <br/><br/>


    <li>Best Practices</li>
    <br/>
    <ul>
        <li>Use small base images (e.g., <code>alpine</code>)</li>
        <br/>
        <li>Set <code>.dockerignore</code> to exclude unnecessary files</li>
        <br/>
        <li>Keep containers single-purpose (“one container = one process”)</li>
        <br/>
        <li>Use multi-stage builds to reduce final image size</li>
        <br/>
        <li>Use health checks for monitoring</li>
        <br/>
        <li>Tag images properly (<code>latest</code>, version numbers)</li>
        <br/>
        <li>Use docker-compose for development; orchestration tools for production</li>
    </ul>
    <br/>
</ol>
<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->
<h3 id="docker-hub">Docker Hub</h3>
<ol>

    <li>What Is Docker Hub?</li>
    <br/>
    <ul>
        <li><b>Docker Hub</b> is the official cloud-based registry service provided by Docker.</li>
        <br/>
        <li>It is used to:</li>
        <ul>
            <li>store Docker images</li>
            <li>share images publicly or privately</li>
            <li>distribute images for development and production</li>
            <li>automate image builds</li>
            <li>pull ready-to-use software images (databases, languages, tools)</li>
        </ul>
        <br/>
        <li>Docker Hub is the default registry used when you run:</li>
<pre><code class="language-bash line-numbers">docker pull ubuntu</code></pre>
    </ul>
    <br/><br/>


    <li>Using Docker Hub Without Logging In</li>
    <br/>
    <ul>
        <li>You can pull images from Docker Hub without an account:</li>
<pre><code class="language-bash line-numbers">docker pull python:3.12
docker pull nginx
docker pull redis
</code></pre>
    </ul>
    <br/><br/>


    <li>Creating a Docker Hub Account</li>
    <br/>
    <ul>
        <li>You can create a free account to:</li>
        <ul>
            <li>push your images</li>
            <li>create private repositories</li>
            <li>configure automated builds</li>
            <li>manage collaborators</li>
        </ul>
        <br/>
        <li>Login from CLI:</li>
<pre><code class="language-bash line-numbers">docker login</code></pre>
    </ul>
    <br/><br/>


    <li>Pushing an Image to Docker Hub</li>
    <br/>
    <ul>
        <li>Step 1: Build your image locally</li>
<pre><code class="language-bash line-numbers">docker build -t myapp .
</code></pre>
        <br/>
        <li>Step 2: Tag the image with your Docker Hub username</li>
<pre><code class="language-bash line-numbers">docker tag myapp username/myapp:latest
</code></pre>
        <br/>
        <li>Step 3: Push to Docker Hub</li>
<pre><code class="language-bash line-numbers">docker push username/myapp:latest
</code></pre>
        <br/>
        <li>Now anyone (or only your team, if private) can pull it:</li>
<pre><code class="language-bash line-numbers">docker pull username/myapp:latest
</code></pre>
    </ul>
    <br/><br/>


    <li>Pulling Images from Docker Hub</li>
    <br/>
    <ul>
        <li>Basic usage:</li>
<pre><code class="language-bash line-numbers">docker pull ubuntu
docker pull node:22
docker pull redis:7-alpine
</code></pre>
        <br/>
        <li>Run immediately:</li>
<pre><code class="language-bash line-numbers">docker run -it ubuntu bash
</code></pre>
    </ul>
    <br/><br/>


    <li>Repositories and Tags</li>
    <br/>
    <ul>
        <li>A Docker Hub repository contains multiple versions of an image.</li>
        <br/>
        <li>Example: <code>python</code> repository tags:</li>
        <ul>
            <li><code>3.12</code></li>
            <li><code>3.11-slim</code></li>
            <li><code>3.12-alpine</code></li>
            <li><code>latest</code></li>
        </ul>
        <br/>
        <li>A tag identifies a specific variant of an image:</li>
<pre><code class="language-bash line-numbers">docker pull python:3.12
docker pull python:3.12-slim
docker pull python:alpine
</code></pre>
        <br/>
        <li>If you omit the tag:</li>
<pre><code class="language-bash line-numbers">docker pull python</code></pre>
        <li>You get the <code>latest</code> tag.</li>
    </ul>
    <br/><br/>
</ol>
<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->
<h3 id="docker-images">Docker Images</h3>
<ol>
    <li>How Docker Images Work?</li>
    <br/>
    <ul>
        <li>Docker images are built in <b>layers</b>.</li>
        <br/>
        <li>Each instruction in a Dockerfile creates a new layer:</li>
<pre><code class="language-docker line-numbers">FROM ubuntu
RUN apt-get update
RUN apt-get install python3
COPY app.py /app/app.py
</code></pre>
        <br/>
        <li>Layers are cached → faster builds.</li>
        <br/>
        <li>If a layer does not change, Docker reuses it.</li>
    </ul>
    <br/><br/>


    <li>Base Images vs Child Images</li>
    <br/>
    <ul>
        <li>Base Image:</li>
        <ul>
            <li>an image that doesn't depend on any other image</li>
            <li>examples: <code>ubuntu</code>, <code>alpine</code>, <code>scratch</code>
            </li>
        </ul>
        <br/>
        <li>Child Image:</li>
        <ul>
            <li>an image built from another image using <code>FROM</code></li>
            <li>example:</li>
<pre><code class="language-docker line-numbers">FROM python:3.12</code></pre>
        </ul>
        <br/>
        <li>Most applications use child images.</li>
    </ul>
    <br/><br/>


    <li>Viewing Docker Images</li>
    <br/>
    <ul>
        <li>List all local images:</li>
<pre><code class="language-bash line-numbers">docker images</code></pre>
        <br/>
        <li>Remove an image:</li>
<pre><code class="language-bash line-numbers">docker rmi image_id</code></pre>
        <br/>
        <li>Inspect image metadata:</li>
<pre><code class="language-bash line-numbers">docker inspect image_id</code></pre>
        <br/>
        <li>Show image history (layers):</li>
<pre><code class="language-bash line-numbers">docker history image_id</code></pre>
    </ul>
    <br/><br/>


    <li>Building Docker Images</li>
    <br/>
    <ul>
        <li>Images are built from a <code>Dockerfile</code>.</li>
        <br/>
        <li>Basic build:</li>
<pre><code class="language-bash line-numbers">docker build -t &lt;name&gt; .</code></pre>
        <br/>
        <li><code>-t &lt;name&gt;</code> gives your image a name.</li>
        <br/>
        <li>Example <code>Dockerfile</code>:</li>
<pre><code class="language-docker line-numbers">FROM python:3.12-alpine
WORKDIR /app
COPY . .
RUN pip install -r requirements.txt
CMD ["python", "main.py"]
</code></pre>
    </ul>
    <br/><br/>


    <li>Tagging Docker Images</li>
    <br/>
    <ul>
        <li>An image can have multiple tags.</li>
        <br/>
        <li>Tags identify versions:</li>
<pre><code class="language-bash line-numbers">docker tag myapp myapp:v1
docker tag myapp username/myapp:latest
</code></pre>
        <br/>
        <li>Common tags:</li>
        <br/>
<table>
    <thead>
        <tr>
            <th>Docker Image Tag</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code>latest</code></td>
            <td>Default tag; points to the most recent stable image.</td>
        </tr>
        <tr>
            <td><code>1.0</code>, <code>2.3.4</code></td>
            <td>Specific version tags for consistent and reproducible builds.</td>
        </tr>
        <tr>
            <td><code>alpine</code></td>
            <td>Lightweight image variant based on Alpine Linux.</td>
        </tr>
        <tr>
            <td><code>slim</code></td>
            <td>Minimal-dependency image variant, smaller than the default.</td>
        </tr>
    </tbody>
</table>
    </ul>
    <br/><br/>


    <li>Pulling Docker Images</li>
    <br/>
    <ul>
        <li>Pull from Docker Hub:</li>
<pre><code class="language-bash line-numbers">docker pull python:3.12
docker pull node:20-slim
docker pull nginx:alpine
</code></pre>
        <br/>
        <li>Pull default (latest):</li>
<pre><code class="language-bash line-numbers">docker pull redis</code></pre>
    </ul>
    <br/><br/>


    <li>Running Containers from Images</li>
    <br/>
    <ul>
        <li>Every container is created from an image:</li>
<pre><code class="language-bash line-numbers">docker run -it ubuntu bash</code></pre>
        <li>The container runs as an isolated process based on the image’s filesystem.</li>
    </ul>
    <br/><br/>


    <li>Layered Filesystem Explained</li>
    <br/>
    <ul>
        <li>Images use a layered filesystem (UnionFS):</li>
        <ul>
            <li>Bottom layers = read-only</li>
            <li>Top layer (container) = writable</li>
        </ul>
        <br/>
        <li>This means:</li>
        <ul>
            <li>many containers share the same image layers</li>
            <li>saves disk space</li>
            <li>speeds up builds</li>
        </ul>
        <br/>
        <li>Example layer structure:</li>
<pre><code class="language-plaintext line-numbers">Layer 1: FROM python:3.12
Layer 2: WORKDIR /app
Layer 3: COPY . .
Layer 4: RUN pip install -r requirements.txt
Layer 5: CMD ["python", "main.py"]
</code></pre>
    </ul>
    <br/><br/>


    <li>Best Practices for Docker Images</li>
    <br/>
    <ul>
        <li>Use small base images like <code>alpine</code> when possible.</li>
        <br/>
        <li><code>Use .dockerignore</code> to exclude unnecessary files:</li>
<pre><code class="language-plaintext line-numbers">node_modules/
.git/
__pycache__/
</code></pre>
        <br/>
        <li>Keep layers minimal to reduce image size.</li>
        <br/>
        <li>Pin versions to ensure reproducible builds:</li>
<pre><code class="language-docker line-numbers">FROM node:20.9-slim</code></pre>
        <br/>
        <li>Use multi-stage builds for production apps.</li>
        <br/>
        <li>Do not store secrets (API keys, passwords) inside images.</li>
    </ul>
    <br/><br/>


    <li>Multi-Stage Builds (Advanced)</li>
    <br/>
    <ul>
        <li>Used to create small, optimized images.</li>
<pre><code class="language-docker line-numbers">FROM node:20 as builder
WORKDIR /app
COPY . .
RUN npm install &amp;&amp; npm run build

FROM nginx:alpine
COPY --from=builder /app/dist /usr/share/nginx/html
</code></pre>
        <br/>
        <li>Benefits:</li>
        <ul>
            <li>final image contains only what is needed to run</li>
            <li>build tools stay in the builder stage</li>
            <li>reduces size dramatically</li>
        </ul>
    </ul>
    <br/><br/>


    <li>Summary</li>
    <br/>
    <ul>
        <li>Docker images are read-only templates used to create containers.</li>
        <br/>
        <li>They are built in layers, making them fast, efficient, and easy to reuse.</li>
        <br/>
        <li>Images are created from Dockerfiles and can be tagged, pushed, or pulled from Docker Hub.</li>
        <br/>
        <li>With best practices (small base images, multi-stage builds), images become more secure and efficient.</li>
    </ul>

</ol>
<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->
<h3 id="docker-containers">Docker Containers</h3>
<ol>

    <li>What Are Docker Containers?</li>
    <br/>
    <ul>
        <li>A <b>Docker container</b> is a <b>running instance</b> of a Docker image.</li>
        <br/>
        <li>It provides:</li>
        <ul>
            <li>an isolated filesystem</li>
            <li>a lightweight runtime environment</li>
            <li>its own processes and network stack</li>
            <li>predictable behavior across machines</li>
        </ul>
        <br/>
        <li>Multiple containers can run from the same image.</li>
    </ul>
    <br/><br/>


    <li>Creating and Running Containers</li>
    <br/>
    <ul>
        <li>Basic container run:</li>
<pre><code class="language-bash line-numbers">docker run ubuntu</code></pre>
        <br/>
        <li>Run interactively:</li>
<pre><code class="language-bash line-numbers">docker run -it ubuntu bash</code></pre>
        <br/>
        <li>Run in detached mode (background):</li>
<pre><code class="language-bash line-numbers">docker run -d nginx</code></pre>
        <br/>
        <li>Run and map ports:</li>
<pre><code class="language-bash line-numbers">docker run -p 8080:80 nginx</code></pre>
        <br/>
        <li>Run with a name:</li>
<pre><code class="language-bash line-numbers">docker run --name mycontainer ubuntu</code></pre>
    </ul>
    <br/><br/>


    <li>Viewing and Managing Containers</li>
    <br/>
    <ul>
        <li>List running containers:</li>
<pre><code class="language-bash line-numbers">docker ps</code></pre>
        <br/>
        <li>List all containers (including stopped):</li>
<pre><code class="language-bash line-numbers">docker ps -a</code></pre>
        <br/>
        <li>Stop a container:</li>
<pre><code class="language-bash line-numbers">docker stop mycontainer</code></pre>
        <br/>
        <li>Start a container:</li>
<pre><code class="language-bash line-numbers">docker start mycontainer</code></pre>
        <br/>
        <li>Remove a container:</li>
<pre><code class="language-bash line-numbers">docker rm mycontainer</code></pre>
    </ul>
    <br/><br/>


    <li>Container File System</li>
    <br/>
    <ul>
        <li>Containers use a layered filesystem:</li>
        <ul>
            <li>Image layers = read-only</li>
            <li>Container layer = writable</li>
        </ul>
        <br/>
        <li>This means:</li>
        <ul>
            <li>modifications exist only inside that container</li>
            <li>destroying the container removes its write layer</li>
        </ul>
        <br/>
        <li>Inspect layers:</li>
<pre><code class="language-bash line-numbers">docker history myimage</code></pre>
    </ul>
    <br/><br/>


    <li>Executing Commands Inside Containers</li>
    <br/>
    <ul>
        <li>Run a command in a running container:</li>
<pre><code class="language-bash line-numbers">docker exec mycontainer ls</code></pre>
        <br/>
        <li>Start an interactive session:</li>
<pre><code class="language-bash line-numbers">docker exec -it mycontainer bash</code></pre>
    </ul>
    <br/><br/>


    <li>Container Networking</li>
    <br/>
    <ul>
        <li>Docker containers can communicate via built-in networks:</li>
    <br/>
<table>
    <thead>
        <tr>
            <th>Docker Network Mode</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><b>bridge</b></td>
            <td>Default network mode, containers get a private internal network and can communicate via virtual interfaces.</td>
        </tr>
        <tr>
            <td><b>host</b></td>
            <td>Shares the host's network stack, container ports map directly to the host's network without NAT.</td>
        </tr>
        <tr>
            <td><b>none</b></td>
            <td>Disables networking entirely, container has no network interfaces except loopback.</td>
        </tr>
    </tbody>
</table>
        <br/>
        <li>List networks:</li>
<pre><code class="language-bash line-numbers">docker network ls</code></pre>
        <br/>
        <li>Connect container to network:</li>
<pre><code class="language-bash line-numbers">docker network connect mynet mycontainer</code></pre>
    </ul>
    <br/><br/>


    <li>Container Volumes</li>
    <br/>
    <ul>
        <li>Containers lose data if destroyed (ephemeral).</li>
        <br/>
        <li>Use volumes for persistent data:</li>
<pre><code class="language-bash line-numbers">docker run -v myvolume:/data myimage</code></pre>
        <br/>
        <li>Types of storage:</li>
        <br/>
<table>
    <thead>
        <tr>
            <th>Storage Type</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><b>Volumes</b></td>
            <td>Managed entirely by Docker; stored in Docker’s internal storage location.</td>
        </tr>
        <tr>
            <td><b>Bind Mounts</b></td>
            <td>Maps a directory or file from the host filesystem directly into the container.</td>
        </tr>
    </tbody>
</table>
        <br/>
        <li>List volumes:</li>
<pre><code class="language-bash line-numbers">docker volume ls</code></pre>
    </ul>
    <br/><br/>


    <li>Container Lifecycle</li>
    <br/>
    <ul>
        <li>A container lifecycle includes:</li>
        <ul>
            <li>create</li>
            <li>start</li>
            <li>pause (optional)</li>
            <li>stop</li>
            <li>restart</li>
            <li>remove</li>
        </ul>
        <br/>
        <li>Lifecycle example:</li>
<pre><code class="language-bash line-numbers">docker create myimage
docker start container_id
docker stop container_id
docker rm container_id
</code></pre>
    </ul>
    <br/><br/>


    <li>Container Logs</li>
    <br/>
    <ul>
        <li>View logs:</li>
<pre><code class="language-bash line-numbers">docker logs mycontainer</code></pre>
        <br/>
        <li>Follow logs (like tail -f):</li>
<pre><code class="language-bash line-numbers">docker logs -f mycontainer</code></pre>
    </ul>
    <br/><br/>


    <li>Cleaning Up Containers</li>
    <br/>
    <ul>
        <li>Remove all stopped containers:</li>
<pre><code class="language-bash line-numbers">docker container prune</code></pre>
        <br/>
        <li>Remove everything (CAUTION):</li>
<pre><code class="language-bash line-numbers">docker system prune -a</code></pre>
    </ul>
    <br/><br/>
</ol>
<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->
<h3 id="docker-dockerfile-anatomy">Dockerfile Anatomy</h3>
<ol>

    <li>What Is a Dockerfile?</li>
    <br/>
    <ul>
        <li>A <code>Dockerfile</code> is a plain-text script containing step-by-step instructions for building a Docker image.</li>
        <br/>
        <li>Each instruction creates a <b>new layer</b> in the final image.</li>
        <br/>
        <li>Build an image from a Dockerfile:</li>
<pre><code class="language-bash line-numbers">docker build -t myapp .</code></pre>
        <br/>
        <li>The Dockerfile must be named <code>Dockerfile</code> (default) unless you specify:</li>
<pre><code class="language-bash line-numbers">docker build -f CustomFile -t myapp .</code></pre>
    </ul>
    <br/><br/>


    <li>The Structure of a Dockerfile</li>
    <br/>
    <ul>
        <li>A <code>Dockerfile</code> is a sequence of instructions.</li>
        <br/>
        <li>Common instructions:</li>
        <br/>
<table>
    <thead>
        <tr>
            <th>Instruction</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code>FROM</code></td>
            <td>Specifies the base image.</td>
        </tr>
        <tr>
            <td><code>RUN</code></td>
            <td>Executes commands during the build process.</td>
        </tr>
        <tr>
            <td><code>COPY</code></td>
            <td>Copies files from the host into the image.</td>
        </tr>
        <tr>
            <td><code>ADD</code></td>
            <td>Like COPY but supports remote URLs and automatic extraction (use only when necessary).</td>
        </tr>
        <tr>
            <td><code>WORKDIR</code></td>
            <td>Sets the working directory for subsequent instructions.</td>
        </tr>
        <tr>
            <td><code>EXPOSE</code></td>
            <td>Documents the network ports the container listens on.</td>
        </tr>
        <tr>
            <td><code>CMD</code></td>
            <td>Default command executed when the container starts.</td>
        </tr>
        <tr>
            <td><code>ENTRYPOINT</code></td>
            <td>Defines the main entrypoint process of the container.</td>
        </tr>
        <tr>
            <td><code>ENV</code></td>
            <td>Sets environment variables inside the image.</td>
        </tr>
        <tr>
            <td><code>ARG</code></td>
            <td>Defines build-time variables available only during build.</td>
        </tr>
        <tr>
            <td><code>VOLUME</code></td>
            <td>Specifies mount points for data storage.</td>
        </tr>
        <tr>
            <td><code>USER</code></td>
            <td>Changes the user for subsequent instructions.</td>
        </tr>
        <tr>
            <td><code>LABEL</code></td>
            <td>Adds metadata to the image.</td>
        </tr>
        <tr>
            <td><code>HEALTHCHECK</code></td>
            <td>Defines a command that checks if the container is healthy.</td>
        </tr>
    </tbody>
</table>
        <br/>
        <li>All Dockerfiles start with <code>FROM</code>.</li>
    </ul>
    <br/><br/>


    <li>FROM — Choosing a Base Image</li>
    <br/>
    <ul>
        <li>The first instruction must specify a base image:</li>
<pre><code class="language-docker line-numbers">FROM python:3.12-slim</code></pre>
        <li>To start completely from zero:</li>
<pre><code class="language-docker line-numbers">FROM scratch</code></pre>
        <li>Used for extremely small images.</li>
    </ul>
    <br/><br/>


    <li>WORKDIR — Setting Working Directory</li>
    <br/>
    <ul>
        <li>Sets the directory for the following commands:</li>
<pre><code class="language-docker line-numbers">WORKDIR /app</code></pre>
        <li>If the directory does not exist, Docker creates it.</li>
    </ul>
    <br/><br/>


    <li>COPY and ADD — Adding Files</li>
    <br/>
    <ul>
        <li><code>COPY</code> copies files from host → image:</li>
<pre><code class="language-docker line-numbers">COPY . /app</code></pre>
        <br/>
        <li><code>ADD</code> should be avoided unless needed:</li>
        <ul>
            <li>It can fetch URLs</li>
            <li>It auto-extracts tar archives</li>
        </ul>
        <br/>
        <li>Prefer <code>COPY</code> for normal usage.</li>
    </ul>
    <br/><br/>


    <li>RUN — Execute Commands During Build</li>
    <br/>
    <ul>
        <li>Used to install dependencies or configure the environment:</li>
<pre><code class="language-docker line-numbers">RUN apt-get update &amp;&amp; apt-get install -y python3</code></pre>
        <br/>
        <li>Each <code>RUN</code> creates a new layer.</li>
        <br/>
        <li>Best practice: combine commands to reduce layers:</li>
<pre><code class="language-docker line-numbers">RUN apt-get update                \
    &amp;&amp; apt-get install -y python3 \
    &amp;&amp; apt-get clean</code></pre>
    </ul>
    <br/><br/>


    <li>ENV — Environment Variables</li>
    <br/>
    <ul>
        <li>Define environment variables accessible inside the container:</li>
<pre><code class="language-docker line-numbers">ENV PORT=8080
ENV MODE=production</code></pre>
        <li>Useful for configuration.</li>
    </ul>
    <br/><br/>


    <li>ARG — Build-Time Variables</li>
    <br/>
    <ul>
        <li>These exist only during the build stage (not at runtime):</li>
<pre><code class="language-docker line-numbers">ARG VERSION=1.0</code></pre>
        <li>You can pass them:</li>
<pre><code class="language-bash line-numbers">docker build --build-arg VERSION=2.0 -t app:2.0 .</code></pre>
    </ul>
    <br/><br/>


    <li>EXPOSE — Documenting Port Usage</li>
    <br/>
    <ul>
        <li>Documents the port your app uses:</li>
<pre><code class="language-docker line-numbers">EXPOSE 8080</code></pre>
        <li>IMPORTANT: It does not actually publish ports.</li>
        <br/>
        <li>Publish using:</li>
<pre><code class="language-bash line-numbers">docker run -p 8080:8080 app</code></pre>
    </ul>
    <br/><br/>


    <li>CMD — The Default Container Command</li>
    <br/>
    <ul>
        <li><code>CMD</code> specifies the command to run when the container starts:</li>
<pre><code class="language-docker line-numbers">CMD ["python", "main.py"]</code></pre>
        <li>If overridden, Docker uses the command passed to <code>docker run</code>.</li>
<pre><code class="language-bash line-numbers">docker run app python other.py</code></pre>
    </ul>
    <br/><br/>


    <li>ENTRYPOINT — Forced Command</li>
    <br/>
    <ul>
        <li><code>ENTRYPOINT</code> defines the main binary for the container:</li>
<pre><code class="language-docker line-numbers">ENTRYPOINT ["python"]</code></pre>
        <br/>
        <li>Combined with <code>CMD</code>:</li>
<pre><code class="language-docker line-numbers">ENTRYPOINT ["python"]
CMD ["main.py"]</code></pre>
        <br/>
        <li>This runs:</li>
<pre><code class="language-plaintext line-numbers">python main.py</code></pre>
        <br/>
        <li><code>ENTRYPOINT</code> cannot be overridden easily.</li>
    </ul>
    <br/><br/>


    <li>VOLUME — Persistent Data Storage</li>
    <br/>
    <ul>
        <li>Define a mount point:</li>
<pre><code class="language-docker line-numbers">VOLUME ["/data"]</code></pre>
        <li>Useful for databases or logs.</li>
    </ul>
    <br/><br/>


    <li>USER — Change the Running User</li>
    <br/>
    <ul>
        <li>Run the container as a non-root user for security:</li>
<pre><code class="language-docker line-numbers">USER appuser</code></pre>
        <li>Helps protect your system if the container is compromised.</li>
    </ul>
    <br/><br/>


    <li>LABEL — Metadata</li>
    <br/>
    <ul>
        <li>Labels add metadata to images:</li>
<pre><code class="language-docker line-numbers">LABEL maintainer="someone@example.com"
LABEL version="1.0"</code></pre>
        <li>Used in CI/CD pipelines, orchestration, and monitoring.</li>
    </ul>
    <br/><br/>


    <li>HEALTHCHECK — Container Health Verification</li>
    <br/>
    <ul>
        <li>Periodically test if your app is healthy:</li>
<pre><code class="language-docker line-numbers">HEALTHCHECK CMD curl --fail http://localhost:8080 || exit 1</code></pre>
        <li>This helps orchestrators restart unhealthy containers.</li>
    </ul>
    <br/><br/>


    <li>Full Dockerfile Example</li>
    <ul>
<pre><code class="language-docker line-numbers">FROM python:3.12-slim

WORKDIR /app

COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

COPY . .

ENV PORT=8000

EXPOSE 8000

CMD ["python", "main.py"]
</code></pre>
        <li>This Dockerfile:</li>
        <ul>
            <li>uses a Python base image</li>
            <li>installs dependencies</li>
            <li>copies the application</li>
            <li>sets environment variables</li>
            <li>documents exposed port</li>
            <li>runs the app</li>
        </ul>
    </ul>
    <br/><br/>
</ol>
<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->

<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->

<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->

<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->

<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->

<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->

<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->

<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->

<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->

<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->

<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->

<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->

<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->

<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->

<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->

<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->

<!-- * * * * * * * * * * * * * * -->


<hr/>
<!-- * * * * * * * * * * * * * * -->

<footer>
    <p>&copy; 2025 Hwangfucius. All rights reserved.</p>
</footer>
</body>
<!-- * * * * * * * * * * * * * * -->
</html>
<!-- * * * * * * * * * * * * * * -->

<!-- * * * * * * * * * * * * * * -->
<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <title>About PostgreSQL</title>

    <!-- Theme (pick any from Prism site) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.css">

    <!-- Prism core + Lisp language -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/autoloader/prism-autoloader.min.js"
            data-prismjs-autoloader-path="https://cdn.jsdelivr.net/npm/prismjs/components/"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.js"></script>

<style>
    table {
        border-collapse: collapse;      /* merge borders so you don't get double lines */
        width: 100%;                    /* optional: make it full width */
        font-family: system-ui, sans-serif;
        font-size: 14px;
    }

    th {
        background-color: #f5f5f5;      /* light gray header background */
        text-align: left;               /* header text alignment */
        font-weight: 600;
    }

    th, td {
        border: 1px solid #ddd;         /* subtle border color */
        padding: 8px 12px;              /* breathing room */
    }

    tr:nth-child(even) {
        background-color: #fafafa;      /* zebra striping for readability */
    }

    tr:hover {
        background-color: #f0f8ff;      /* light hover highlight */
    }

    .hl-red {
        background-color: red;
    }

    .hl-green {
        background-color: green;
    }

    .hl-blue {
        background-color: blue;
    }

    .hl-yellow {
        background-color: yellow;
    }

    .hl-red-bg {
        background-color: red;
    }

    .hl-green-bg {
        background-color: green;
    }

    .hl-blue-bg {
        background-color: blue;
    }

    .hl-yellow-bg {
        background-color: yellow;
    }

    .hl-red-fg {
        color: red;
    }

    .hl-green-fg {
        color: green;
    }

    .hl-blue-fg {
        color: blue;
    }

    .hl-yellow-fg {
        color: yellow;
    }

    .hl-grey-fg {
        color: grey;
    }

    .hl-black-fg {
        color: black;
    }

    .comment {
        color: grey;
    }

    .red-underline {
        text-decoration-line: underline;
        text-decoration-color: red;
        text-decoration-thickness: 2px; /* optional: make it a bit thicker */
        text-underline-offset: 2px;     /* optional: move it slightly down */
    }

    body {
        font-family: "KaiTi", "楷体", "STKaiti", "Kaiti SC", serif;
        font-variant-ligatures: none;
    }

    ul > li {
        list-style-type: disc;
    }

    code {
        color: #24292e;                     /* text */
        background-color: #f6f8fa;          /* bg */
        border: 1px solid #d0d7de;          /* subtle frame */
        border-radius: .375rem;
        padding: .15rem .35rem;
        font-family: "FiraCode Nerd Font", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
        font-size: 0.875rem;                /* 14px-ish; avoid bare numbers */
        line-height: 1.4;
    }

    /* Block code container */
    pre {
        margin: 1rem 0;
        padding: .8rem 1rem;
        background-color: #f6f8fa;       /* match inline bg */
        border: 1px solid #d0d7de;
        border-radius: .5rem;
        overflow: auto;                   /* scroll if long */
        tab-size: 4;                      /* adjust as needed */
    }

    /* Code inside pre: remove extra padding/background from inline style */
    pre code {
        display: block;                   /* ensure full-width */
        padding: 0;                       /* pre handles padding */
        background: transparent;          /* avoid double bg */
        border: 0;                        /* avoid double border */
        color: #24292e;
        font-family: "FiraCode Nerd Font", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
        font-size: 0.875rem;
        line-height: 1.5;
        white-space: pre;                 /* preserve spacing; use pre-wrap to wrap long lines */
    }
</style>
</head>
<!-- * * * * * * * * * * * * * * -->
<body>
<!-- * * * * * * * * * * * * * * -->


<hr/>
<h1>PostgreSQL</h1>
<hr/>


<!-- * * * * * * * * * * * * * * -->
<h3>Creating Tables in PostgreSQL</h3>
<ol>
    <li><b>Introduction</b></li>
    <br/>
    <ul>
        <li>In PostgreSQL, a <U>table</u> is a structured collection of rows and columns where data is stored.</li>
        <br/>
        <li>You define a table using the <b>CREATE TABLE</b> command, specifying the column names, data types, and optional constraints (like <code>PRIMARY KEY</code>, <code>NOT NULL</code>, or <code>UNIQUE</code>).</li>
        <br/>
        <li>Tables belong to a <u>schema</u> within a database. By default, they are created inside the <code>public</code> schema unless another one is specified.</li>
    </ul>
    <br/>
    <br/>


    <li><b>Basic Syntax</b></li>
<pre><code class="language-sql line-numbers">CREATE TABLE table_name (
    column_name1 data_type [constraint],
    column_name2 data_type [constraint],
    ...
    [table_constraints]
);
</code></pre>
    <br/>
    <ul>
        <li><code>table_name</code> — the name of your new table.</li>
        <li><code>column_name</code> — the name of each column in that table.</li>
        <li><code>data_type</code> — defines the kind of data stored (e.g., <code>INTEGER</code>, <code>TEXT</code>, <code>BOOLEAN</code>, <code>DATE</code>, etc.).</li>
        <li><code>[constraint]</code> — optional restrictions like <code>NOT NULL</code>, <code>DEFAULT</code>, etc.</li>
        <li><code>[table_constraints]</code> — rules applying to multiple columns, e.g. primary keys, foreign keys.</li>
    </ul>
    <br/>
    <br/>


    <li><b>Example: Creating a Simple Table</b></li>
<pre><code class="language-sql line-numbers">CREATE TABLE employees (
    employee_id SERIAL PRIMARY KEY,
    first_name  VARCHAR(50) NOT NULL,
    last_name   VARCHAR(50) NOT NULL,
    hire_date   DATE NOT NULL DEFAULT CURRENT_DATE,
    active      BOOLEAN DEFAULT TRUE
);
</code></pre>
    <br/>
    <ul>
        <li><code>SERIAL</code> automatically creates an auto-incrementing integer column (in modern PostgreSQL, use <code>GENERATED ALWAYS AS IDENTITY</code> instead).</li>
        <li><code>PRIMARY KEY</code> ensures each row has a unique, non-null identifier.</li>
        <li><code>VARCHAR(50)</code> defines a text field up to 50 characters.</li>
        <li><code>DEFAULT CURRENT_DATE</code> auto-fills with today’s date when no value is given.</li>
    </ul>
    <br/>
    <br/>


    <li><b>Modern Auto-Increment Syntax (Preferred)</b></li>
<pre><code class="language-sql line-numbers">CREATE TABLE employees (
    employee_id INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    first_name  TEXT NOT NULL,
    last_name   TEXT NOT NULL,
    department  TEXT DEFAULT 'General'
);
</code></pre>
    <br/>
    <ul>
        <li><code>GENERATED ALWAYS AS IDENTITY</code> is the SQL-standard version of <code>SERIAL</code>.</li>
        <li>You can also use <code>GENERATED BY DEFAULT AS IDENTITY</code> if you want to allow manual insertion of custom IDs.</li>
    </ul>
    <br/>
    <br/>


    <li><b>Adding Table-Level Constraints</b></li>
<pre><code class="language-sql line-numbers">CREATE TABLE orders (
    order_id      INT GENERATED ALWAYS AS IDENTITY,
    customer_id   INT NOT NULL,
    order_total   NUMERIC(10,2) NOT NULL CHECK (order_total &gt;= 0),
    order_date    TIMESTAMP DEFAULT NOW(),
    PRIMARY KEY (order_id),
    FOREIGN KEY (customer_id) REFERENCES customers(customer_id)
);
</code></pre>
    <br/>
    <ul>
        <li><code>CHECK (order_total &gt;= 0)</code> ensures totals can’t be negative.</li>
        <li><code>PRIMARY KEY</code> and <code>FOREIGN KEY</code> constraints can appear at the bottom as table-level definitions.</li>
        <li><code>NUMERIC(10,2)</code> means up to 10 digits total, 2 after the decimal point.</li>
    </ul>
    <br/>
    <br/>


    <li><b>Common Data Types</b></li>
    <table>
        <thead>
            <tr>
                <th>Type</th>
                <th>Example</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><code>INTEGER</code>, <code>BIGINT</code>, <code>SMALLINT</code></td>
                <td>42</td>
                <td>Whole numbers, various ranges.</td>
            </tr>
            <tr>
                <td><code>NUMERIC(p, s)</code></td>
                <td>1234.56</td>
                <td>Fixed-point precision numbers (money, totals).</td>
            </tr>
            <tr>
                <td><code>TEXT</code>, <code>VARCHAR(n)</code>, <code>CHAR(n)</code></td>
                <td>'Hello'</td>
                <td>Variable or fixed-length strings.</td>
            </tr>
            <tr>
                <td><code>DATE</code>, <code>TIME</code>, <code>TIMESTAMP</code></td>
                <td>'2025-01-01'</td>
                <td>Date and time storage.</td>
            </tr>
            <tr>
                <td><code>BOOLEAN</code></td>
                <td>TRUE / FALSE</td>
                <td>Logical values.</td>
            </tr>
            <tr>
                <td><code>JSON</code>, <code>JSONB</code></td>
                <td>'{"key": "value"}'</td>
                <td>Structured JSON data (JSONB is binary-optimized).</td>
            </tr>
        </tbody>
    </table>
    <br/>
    <br/>


    <li><b>Creating Tables in a Specific Schema</b></li>
<pre><code class="language-sql line-numbers">CREATE SCHEMA company;

CREATE TABLE company.departments (
    id   INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    name TEXT NOT NULL UNIQUE
);
</code></pre>
    <br/>
    <ul>
        <li>By default, PostgreSQL creates tables under the <code>public</code> schema.</li>
        <li>Use <code>CREATE SCHEMA</code> to organize tables logically (e.g., per project or domain).</li>
        <li>You can qualify table names like <code>schema_name.table_name</code>.</li>
    </ul>
    <br/>
    <br/>


    <li><b>Viewing Tables</b></li>
<pre><code class="language-sql line-numbers">-- List all tables in current database
\dt

-- List tables in a specific schema
\dt company.*

-- Show table structure
\d employees
</code></pre>
    <br/>
    <ul>
        <li>These commands are used inside the <code>psql</code> interactive terminal.</li>
        <li><code>\dt</code> lists tables, <code>\d &lt;table&gt;</code> describes structure, columns, and constraints.</li>
    </ul>
    <br/>
    <br/>


    <li><b>Altering or Dropping Tables</b></li>
<pre><code class="language-sql line-numbers">ALTER TABLE employees ADD COLUMN email TEXT;
ALTER TABLE employees DROP COLUMN active;
DROP TABLE employees;
</code></pre>
    <br/>
    <ul>
        <li><code>ALTER TABLE</code> allows adding/removing columns or modifying constraints.</li>
        <li><code>DROP TABLE</code> permanently deletes the table (and all its data).</li>
    </ul>
    <br/>
</ol>
<br/>
<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->
<h3></h3>
<ol>
    <li></li>
    <br/>
    <br/>
    <li></li>
    <br/>
    <br/>
    <li></li>
    <br/>
</ol>
<br/>
<!-- * * * * * * * * * * * * * * -->


<hr/>
<!-- * * * * * * * * * * * * * * -->

<footer>
    <p>&copy; 2025 Hwangfucius. All rights reserved.</p>
</footer>
</body>
<!-- * * * * * * * * * * * * * * -->
</html>
<!-- * * * * * * * * * * * * * * -->
